<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Frame Studio | Web Design for Startups & Small Businesses</title>
    <meta name="description" content="Custom web design and branding that converts. I help startups and small businesses look as good as they perform. Let's build something extraordinary.">
    
    <!-- Fonts - Async loading for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;500;600;700&family=Manrope:wght@300;400;500;600&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;500;600;700&family=Manrope:wght@300;400;500;600&display=swap" rel="stylesheet"></noscript>
    
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons - deferred for faster initial render -->
    <script src="https://unpkg.com/lucide@latest" defer></script>

    <!-- Lenis Smooth Scroll -->
    <script src="https://cdn.jsdelivr.net/npm/lenis@1.1.21/dist/lenis.min.js"></script>

    <!-- Three.js for 3D Carousel - deferred for faster initial render -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>

    <!-- GSAP for scroll-triggered animations - deferred for faster initial render -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>

    <style>
        /* Lenis smooth scroll styles */
        html.lenis, html.lenis body {
            height: auto;
        }
        .lenis.lenis-smooth {
            scroll-behavior: auto !important;
        }
        .lenis.lenis-stopped {
            overflow: hidden;
        }

        /* Hide scrollbar for clean look */
        body::-webkit-scrollbar {
            display: none;
        }
        body {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        @keyframes revealBlur {
            0% { opacity: 0; filter: blur(20px); transform: translateY(40px); }
            100% { opacity: 1; filter: blur(0px); transform: translateY(0); }
        }
        
        .reveal-active {
            animation: revealBlur 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        /* Progressive Blur Top Component - Reversed stacked layers */
        .progressive-blur-top {
            position: absolute;
            z-index: 5;
            width: 100%;
            height: 100%;
            pointer-events: none;
            inset: 0 0 auto 0;
        }

        .progressive-blur-top > div {
            position: absolute;
            inset: 0;
        }

        .progressive-blur-top > div:nth-child(1) {
            backdrop-filter: blur(1px);
            -webkit-backdrop-filter: blur(1px);
            mask-image: linear-gradient(to top, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 12.5%, rgba(0,0,0,1) 25%, rgba(0,0,0,0) 37.5%);
            -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 12.5%, rgba(0,0,0,1) 25%, rgba(0,0,0,0) 37.5%);
            z-index: 1;
        }

        .progressive-blur-top > div:nth-child(2) {
            backdrop-filter: blur(2px);
            -webkit-backdrop-filter: blur(2px);
            mask-image: linear-gradient(to top, rgba(0,0,0,0) 12.5%, rgba(0,0,0,1) 25%, rgba(0,0,0,1) 37.5%, rgba(0,0,0,0) 50%);
            -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0) 12.5%, rgba(0,0,0,1) 25%, rgba(0,0,0,1) 37.5%, rgba(0,0,0,0) 50%);
            z-index: 2;
        }

        .progressive-blur-top > div:nth-child(3) {
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            mask-image: linear-gradient(to top, rgba(0,0,0,0) 25%, rgba(0,0,0,1) 37.5%, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 62.5%);
            -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0) 25%, rgba(0,0,0,1) 37.5%, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 62.5%);
            z-index: 3;
        }

        .progressive-blur-top > div:nth-child(4) {
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            mask-image: linear-gradient(to top, rgba(0,0,0,0) 37.5%, rgba(0,0,0,1) 50%, rgba(0,0,0,1) 62.5%, rgba(0,0,0,0) 75%);
            -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0) 37.5%, rgba(0,0,0,1) 50%, rgba(0,0,0,1) 62.5%, rgba(0,0,0,0) 75%);
            z-index: 4;
        }

        .progressive-blur-top > div:nth-child(5) {
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            mask-image: linear-gradient(to top, rgba(0,0,0,0) 50%, rgba(0,0,0,1) 62.5%, rgba(0,0,0,1) 75%, rgba(0,0,0,0) 87.5%);
            -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0) 50%, rgba(0,0,0,1) 62.5%, rgba(0,0,0,1) 75%, rgba(0,0,0,0) 87.5%);
            z-index: 5;
        }

        .progressive-blur-top > div:nth-child(6) {
            backdrop-filter: blur(32px);
            -webkit-backdrop-filter: blur(32px);
            mask-image: linear-gradient(to top, rgba(0,0,0,0) 62.5%, rgba(0,0,0,1) 75%, rgba(0,0,0,1) 87.5%, rgba(0,0,0,0) 100%);
            -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0) 62.5%, rgba(0,0,0,1) 75%, rgba(0,0,0,1) 87.5%, rgba(0,0,0,0) 100%);
            z-index: 6;
        }

        .progressive-blur-top > div:nth-child(7) {
            backdrop-filter: blur(64px);
            -webkit-backdrop-filter: blur(64px);
            mask-image: linear-gradient(to top, rgba(0,0,0,0) 75%, rgba(0,0,0,1) 87.5%, rgba(0,0,0,1) 100%);
            -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0) 75%, rgba(0,0,0,1) 87.5%, rgba(0,0,0,1) 100%);
            z-index: 7;
        }

        /* Language Selector */
        .lang-btn {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            font-weight: 500;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.4);
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0.25rem 0.35rem;
            border-radius: 3px;
            transition: color 0.3s ease, background 0.3s ease;
        }
        .lang-btn:hover {
            color: rgba(255, 255, 255, 0.8);
        }
        .lang-btn.lang-active {
            color: #EA4E33;
            background: rgba(234, 78, 51, 0.1);
        }

        /* Pixel Confetti */
        .pixel-container {
            position: fixed;
            pointer-events: none;
            z-index: 10000;
        }
        .pixel {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #EA4E33;
        }

        /* Cursor Crosshair Tracker */
        .cursor-crosshair {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .cursor-crosshair.active {
            opacity: 1;
        }
        .crosshair-h,
        .crosshair-v {
            position: absolute;
            background: rgba(234, 78, 51, 0.4);
            will-change: transform;
        }
        .crosshair-h {
            width: 100%;
            height: 1px;
            left: 0;
            top: 0;
        }
        .crosshair-v {
            width: 1px;
            height: 100%;
            top: 0;
            left: 0;
        }

        /* ========================================
           MOBILE/TABLET PERFORMANCE OPTIMIZATIONS
           ======================================== */
        @media (max-width: 1024px) {
            /* Disable backdrop-blur on testimonial cards */
            .backdrop-blur-sm {
                backdrop-filter: none !important;
                -webkit-backdrop-filter: none !important;
            }

            /* Reduce/disable heavy blur effects */
            .hero-cursor-glow {
                display: none !important;
            }

            /* Simplify bento card glow effects */
            .bento-card-glow {
                display: none !important;
            }

        }

    </style>
</head>
<body class="text-white font-sans antialiased selection:bg-white selection:text-black overflow-x-hidden" style="background: #242424;">

<!-- Static Mosaic Background Grid (theme toggleable) -->
<div id="mosaic-background" class="absolute top-0 left-0 w-full pointer-events-none z-0"></div>

<!-- Mosaic Overlay Grid (scroll reveal effect) -->
<div id="mosaic-overlay" class="absolute top-0 left-0 w-full pointer-events-none z-40"></div>

<style>
    #mosaic-background, #mosaic-overlay {
        display: grid;
        grid-template-columns: repeat(var(--mosaic-cols, 10), 1fr);
        transform: translateZ(0);
        contain: layout style;
    }

    /* Background grid cells - static, toggles between light/dark */
    .bg-cell {
        aspect-ratio: 1;
        background-color: #242424;
        transition: background-color 0.35s cubic-bezier(0.25, 0.1, 0.25, 1);
        transition-delay: var(--stagger-delay, 0ms);
        will-change: background-color;
    }

    .bg-cell.light-theme {
        background-color: #D2D2D2;
    }

    /* Overlay grid cells - scroll reveal effect */
    .overlay-cell {
        aspect-ratio: 1;
        background-color: #D2D2D2;
        transition: background-color 0.35s cubic-bezier(0.25, 0.1, 0.25, 1);
        transition-delay: var(--stagger-delay, 0ms);
        will-change: background-color;
    }

    .overlay-cell.in-view {
        background-color: transparent;
    }

    /* Overlay cells in dark theme */
    .overlay-cell.dark-theme {
        background-color: #242424;
    }

    .overlay-cell.dark-theme.in-view {
        background-color: transparent;
    }

    /* Mix blend mode for text to adapt to grid background */
    .blend-text {
        mix-blend-mode: difference;
    }

    /* For sections that need blend mode on all text content */
    .blend-section {
        mix-blend-mode: difference;
    }

    /* Ensure colored elements (like accent color) don't get blended */
    .no-blend {
        mix-blend-mode: normal;
        isolation: isolate;
    }
</style>

<!-- Cursor Crosshair Tracker (Desktop Only) -->
<div id="cursor-crosshair" class="cursor-crosshair hidden md:block">
    <div class="crosshair-h"></div>
    <div class="crosshair-v"></div>
</div>


    <!-- Navbar -->
    <nav class="fixed top-0 left-0 w-full z-50 flex justify-between items-center px-6 py-6 md:px-12 mix-blend-difference">
        <a href="#hero" class="flex items-center gap-2 hover:opacity-80 transition-opacity">
            <svg width="24" height="24" viewBox="0 0 500 500" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6">
                <rect width="300" height="100" transform="matrix(-1 0 0 1 400 400)" fill="currentColor"/>
                <rect width="100" height="400" transform="matrix(-1 0 0 1 500 100)" fill="currentColor"/>
                <rect width="300" height="100" transform="matrix(1 0 0 -1 100 100)" fill="currentColor"/>
                <rect width="100" height="400" transform="matrix(1 0 0 -1 0 400)" fill="currentColor"/>
            </svg>
            <span class="text-sm font-semibold tracking-tight uppercase">New Frame Studio</span>
        </a>
        <div class="hidden md:flex items-center gap-8">
            <a href="#scope" class="text-xs font-medium uppercase tracking-widest hover:text-gray-400 transition-colors" data-i18n="nav.scope">Scope</a>
            <a href="#selected-work" class="text-xs font-medium uppercase tracking-widest hover:text-gray-400 transition-colors" data-i18n="nav.work">Work</a>
            <a href="#lets-talk-section" class="text-xs font-medium uppercase tracking-widest hover:text-gray-400 transition-colors" data-i18n="nav.contact">Contact</a>

            <!-- Language Selector -->
            <div class="lang-selector flex items-center gap-1 ml-4 pl-4 border-l border-white/20">
                <button id="lang-en" class="lang-btn lang-active" data-lang="en" title="English">EN</button>
                <span class="text-white/30 text-xs">/</span>
                <button id="lang-pl" class="lang-btn" data-lang="pl" title="Polski">PL</button>
            </div>

            <!-- Theme Toggle (Moon/Sun) -->
            <button id="theme-toggle" class="ml-4 pl-4 border-l border-white/20 p-1 hover:opacity-70 transition-opacity" title="Toggle theme">
                <svg id="theme-icon-moon" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
                <svg id="theme-icon-sun" class="w-4 h-4 hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
            </button>
        </div>
    </nav>

    <!-- Hero Section - Editorial Brutalism -->
    <div id="hero" class="relative w-full h-screen flex flex-col justify-center items-center overflow-hidden" style="z-index: 1;">

        <div class="hero-content-container w-full h-full px-6 md:px-12 py-20 flex flex-col justify-center relative max-w-[2000px] mx-auto">

            <!-- Main Typography Stack -->
            <div id="hero-type-stack" class="hero-type-stack relative blend-section">

                <!-- NEW FRAME -->
                <div class="hero-title-row mb-8 md:mb-12 flex items-center justify-center gap-3 md:gap-6 opacity-0" style="animation: fadeSlideIn 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;">
                    <h1 class="hero-title-massive" style="font-family: 'Bebas Neue', sans-serif; font-size: clamp(7rem, 22vw, 28rem); line-height: 0.82; letter-spacing: -0.04em; color: #fff; text-shadow: 4px 4px 0 rgba(0,0,0,0.3);">NEW FRAME</h1>
                </div>

                <!-- Info Bar - Centered under title -->
                <div class="hero-info-bar flex items-center justify-center mt-16 md:mt-24 opacity-0 w-full" style="animation: fadeSlideIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) 1.2s forwards;">
                    <div class="flex items-center gap-8">
                        <div class="hero-location text-center">
                            <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; font-weight: 400; letter-spacing: 0.05em; color: rgba(255,255,255,0.5); margin-bottom: 0.25rem;" data-i18n="hero.location">LOCATION</div>
                            <div style="font-family: 'JetBrains Mono', monospace; font-size: 1.8rem; font-weight: 700; letter-spacing: 0.05em; color: #EA4E33;" data-i18n="hero.remote">REMOTE</div>
                            <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; font-weight: 400; letter-spacing: 0.1em; color: rgba(255,255,255,0.4);" data-i18n="hero.worldwide">WORKING WITH CLIENTS WORLDWIDE</div>
                        </div>
                        <div class="w-px h-16 bg-white/20"></div>
                        <div class="hero-year text-center">
                            <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; font-weight: 400; letter-spacing: 0.05em; color: rgba(255,255,255,0.5); margin-bottom: 0.25rem;" data-i18n="hero.established">ESTABLISHED</div>
                            <div style="font-family: 'Bebas Neue', sans-serif; font-size: 2.5rem; line-height: 1; letter-spacing: 0.05em; color: #fff;">20<span style="color: #EA4E33;">23</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Scroll to Explore - Absolute bottom -->
            <div class="hero-scroll-indicator absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-3 opacity-0" style="animation: fadeSlideIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) 1.4s forwards;">
                <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; font-weight: 400; letter-spacing: 0.15em; color: rgba(255,255,255,0.5);" data-i18n="hero.scroll">SCROLL TO EXPLORE</div>
                <svg class="w-5 h-5 text-white/50" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="animation: bounce 2s infinite;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
            </div>


            <!-- Interactive Mouse Follower -->
            <div id="hero-cursor" class="hero-cursor-glow pointer-events-none absolute w-64 h-64 rounded-full bg-[#EA4E33] opacity-0 blur-[120px] transition-opacity duration-1000" style="mix-blend-mode: screen; transform: translate(-50%, -50%);"></div>
        </div>

        <!-- Hero Custom Styles -->
        <style>
            @keyframes fadeSlideIn {
                from { opacity: 0; transform: translateY(30px); }
                to { opacity: 1; transform: translateY(0); }
            }
            @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(8px); }
            }
        </style>

        <!-- Hero JavaScript -->
        <script>
            (function() {
                // Skip cursor tracking on mobile and tablet (< 1024px)
                const isMobileOrTablet = window.innerWidth < 1024;

                // Mouse-reactive glow effect and 3D tilt
                const hero = document.getElementById('hero');
                const cursorGlow = document.getElementById('hero-cursor');
                const typeStack = document.getElementById('hero-type-stack');

                // Hide cursor glow on mobile/tablet
                if (isMobileOrTablet && cursorGlow) {
                    cursorGlow.style.display = 'none';
                }

                // Only add cursor tracking on desktop
                if (isMobileOrTablet) return;

                let mouseX = 0, mouseY = 0;
                let glowX = 0, glowY = 0;
                let currentRotateX = 0;
                let currentRotateY = 0;
                let currentRotateZ = -2;
                let targetRotateX = 0;
                let targetRotateY = 0;
                let targetRotateZ = -2;

                // Animation control (for visibility-based pausing)
                let heroAnimationId = null;
                let isHeroVisible = true;
                let needsAnimation = true;

                // Parallax effect elements (moved up to combine with main mousemove)
                const titleElements = document.querySelectorAll('.hero-title-row');

                // Single combined mousemove handler for glow, tilt, and parallax effects
                hero.addEventListener('mousemove', (e) => {
                    const rect = hero.getBoundingClientRect();
                    mouseX = e.clientX;
                    mouseY = e.clientY;
                    cursorGlow.style.opacity = '0.15';

                    // Calculate 3D tilt based on mouse position relative to hero center
                    const centerX = rect.left + rect.width / 2;
                    const centerY = rect.top + rect.height / 2;

                    // Normalize to -1 to 1 range
                    const normalizedX = (e.clientX - centerX) / (rect.width / 2);
                    const normalizedY = (e.clientY - centerY) / (rect.height / 2);

                    // Map to rotation values
                    targetRotateY = normalizedX * 12; // Horizontal tilt (rotateY): ±12 degrees
                    targetRotateX = -normalizedY * 8; // Vertical tilt (rotateX): ±8 degrees (inverted)
                    targetRotateZ = -normalizedX * 3; // Slight Z rotation for extra dynamism

                    // Parallax effect on title elements (merged from duplicate listener)
                    const xPos = (e.clientX / window.innerWidth - 0.5) * 20;
                    const yPos = (e.clientY / window.innerHeight - 0.5) * 20;
                    titleElements.forEach((el, index) => {
                        const depth = (index + 1) * 0.3;
                        el.style.transform = `translate(${xPos * depth}px, ${yPos * depth}px)`;
                    });

                    // Restart animation if it was paused due to convergence
                    needsAnimation = true;
                });

                hero.addEventListener('mouseleave', () => {
                    cursorGlow.style.opacity = '0';
                    // Return to default position
                    targetRotateX = 0;
                    targetRotateY = 0;
                    targetRotateZ = -2;
                });

                // Smooth lerp animation for cursor glow and 3D tilt
                // Optimized: Pauses when hero is not visible and when values converge
                // Intersection Observer to pause animation when hero is not visible
                const heroObserver = new IntersectionObserver((entries) => {
                    isHeroVisible = entries[0].isIntersecting;
                    if (isHeroVisible && !heroAnimationId) {
                        needsAnimation = true;
                        animateHeroEffects();
                    }
                }, { threshold: 0 });
                heroObserver.observe(hero);

                function animateHeroEffects() {
                    // Don't run if hero is not visible
                    if (!isHeroVisible) {
                        heroAnimationId = null;
                        return;
                    }

                    // Check if values have converged (optimization for idle state)
                    const glowDiff = Math.abs(mouseX - glowX) + Math.abs(mouseY - glowY);
                    const rotateDiff = Math.abs(targetRotateX - currentRotateX) +
                                       Math.abs(targetRotateY - currentRotateY) +
                                       Math.abs(targetRotateZ - currentRotateZ);

                    needsAnimation = glowDiff > 0.5 || rotateDiff > 0.01;

                    if (needsAnimation) {
                        // Glow position
                        glowX += (mouseX - glowX) * 0.1;
                        glowY += (mouseY - glowY) * 0.1;
                        cursorGlow.style.left = glowX + 'px';
                        cursorGlow.style.top = glowY + 'px';

                        // Smooth 3D rotation with lerp
                        currentRotateX += (targetRotateX - currentRotateX) * 0.08;
                        currentRotateY += (targetRotateY - currentRotateY) * 0.08;
                        currentRotateZ += (targetRotateZ - currentRotateZ) * 0.08;

                        typeStack.style.transform = `rotateX(${currentRotateX}deg) rotateY(${currentRotateY}deg) rotateZ(${currentRotateZ}deg)`;
                    }

                    heroAnimationId = requestAnimationFrame(animateHeroEffects);
                }
                animateHeroEffects();

                // Initialize with default tilt
                targetRotateZ = -2;
                currentRotateZ = -2;
            })();
        </script>
    </div>


    <!-- Combined Intro + Bento Section -->
    <section class="z-[1] relative bg-transparent intro-bento-section" id="scope">
        <div class="flex flex-col w-full items-center justify-start bg-transparent px-6 md:px-12 h-full">

        <!-- Header Text -->
        <div class="text-center mb-6 pt-6 animate-on-scroll relative z-20 flex-shrink-0">
            <!-- Hover Image Container (positioned behind text) -->
            <div id="jed-hover-image" class="jed-hover-image">
                <div class="jed-image-placeholder">
                    <span class="jed-initials">JM</span>
                </div>
            </div>

            <div id="reveal-paragraph" class="text-lg md:text-xl lg:text-[22px] font-normal leading-[1.5] md:leading-[1.4] tracking-tight max-w-[1400px] mx-auto select-none relative z-10 blend-section">
                <span class="reveal-section revealed" data-section="0">Hey! I'm Jed, the founder of</span>
                <button class="reveal-chip revealed" data-section="0">NEWFRAME</button>
                <span class="reveal-section revealed" data-section="0">— and I help businesses look as good as they perform.</span>

                <span class="reveal-section" data-section="1">By day, I'm</span>
                <button class="reveal-chip" data-section="1">HEAD OF DESIGN</button>
                <span class="reveal-section" data-section="1">at a SaaS company. New Frame is where I channel my passion for helping smaller teams level up.</span>

                <span class="reveal-section" data-section="2">I work</span>
                <button class="reveal-chip" data-section="2">REMOTELY</button>
                <span class="reveal-section" data-section="2">with startups and small businesses who need serious design without the agency overhead.</span>

                <span class="reveal-section" data-section="3">My focus? Building</span>
                <button class="reveal-chip" data-section="3">WEBSITES</button>
                <span class="reveal-section" data-section="3">that convert visitors into customers.</span>

                <span class="reveal-section" data-section="4">From</span>
                <button class="reveal-chip" data-section="4">BRANDING</button>
                <span class="reveal-section" data-section="4">to full site builds, I obsess over every detail so you don't have to.</span>

                <span class="reveal-section" data-section="7">Ready to make something</span>
                <button class="reveal-chip" data-section="7">EXTRAORDINARY</button>
                <span class="reveal-section" data-section="7">together? Let's talk.</span>
            </div>

            <!-- Reveal All Button -->
            <button id="reveal-all-btn" class="reveal-all-btn mt-4">
                <span class="reveal-all-text reveal-all-text-show" data-i18n="about.revealAll">Reveal All</span>
                <span class="reveal-all-text reveal-all-text-hide" data-i18n="about.hideAll">Hide All</span>
                <div class="reveal-all-icons">
                    <svg class="reveal-all-icon reveal-all-icon-eye" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <svg class="reveal-all-icon reveal-all-icon-eye-off" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <line x1="1" y1="1" x2="23" y2="23" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                </div>
            </button>
        </div>

        <style class="">
            #reveal-paragraph { position: relative; }
            /* Parent section - always visible container */
            .reveal-section { display: inline; }
            /* Individual words - start hidden */
            /* Performance: Hardware acceleration with translateZ */
            .reveal-word { display: inline-block; color: rgba(255, 255, 255, 0.4); opacity: 0.4; transition: color 0.6s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1); vertical-align: baseline; }
            /* Individual words - revealed state */
            .reveal-word.revealed { color: white; opacity: 1; }
            /* Dim variant words */
            .reveal-word.dim-word { color: rgba(161, 161, 170, 0.4); }
            .reveal-word.dim-word.revealed { color: rgb(161 161 170); }
            .reveal-chip { display: inline-flex; align-items: center; padding: 0.08em 0.35em; margin: 0.1em 0.1em; border: 1px solid rgba(255, 255, 255, 0.35); border-radius: 3px; background: rgba(255, 255, 255, 0.06); color: white; font-family: inherit; font-size: 0.85em; font-weight: 500; letter-spacing: 0.02em; cursor: pointer; transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1); position: relative; vertical-align: middle; }
            .reveal-chip:not(.revealed) { background: rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.5); }
            .reveal-chip:not(.revealed):hover { background: rgba(255, 255, 255, 0.18); border-color: rgba(255, 255, 255, 0.7); transform: scale(1.02); }
            .reveal-chip:not(.revealed):active { transform: scale(0.98); }
            .reveal-chip.revealed { background: rgba(234, 78, 51, 0.1); border-color: #EA4E33; color: #EA4E33; cursor: pointer; }
            .reveal-chip.dim-chip { border-color: rgba(161, 161, 170, 0.4); color: rgb(161 161 170); background: rgba(161, 161, 170, 0.08); }
            .reveal-chip.dim-chip:not(.revealed):hover { background: rgba(161, 161, 170, 0.15); border-color: rgba(161, 161, 170, 0.6); }
            .reveal-chip.dim-chip.revealed { background: rgba(234, 78, 51, 0.1); border-color: #EA4E33; color: #EA4E33; }

            /* Jed Name Hover Effect */
            .jed-name-hover {
                position: relative;
                cursor: pointer;
                color: #EA4E33;
                transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
                text-decoration: underline;
                text-decoration-color: rgba(234, 78, 51, 0.3);
                text-underline-offset: 4px;
            }
            .jed-name-hover:hover {
                text-decoration-color: #EA4E33;
            }

            /* Hover Image Container */
            .jed-hover-image {
                position: absolute;
                top: 35%;
                left: 38%;
                transform: translate(-50%, -50%) rotate(3deg);
                width: 336px;
                height: 420px;
                z-index: 1;
                pointer-events: none;
                opacity: 0;
                filter: blur(8px);
                transition: opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1), filter 0.5s cubic-bezier(0.16, 1, 0.3, 1), transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            }
            .jed-hover-image.active {
                opacity: 1;
                filter: blur(0);
                transform: translate(-50%, -50%) rotate(4deg);
            }

            /* Placeholder Image */
            .jed-image-placeholder {
                width: 100%;
                height: 100%;
                background: linear-gradient(145deg, rgba(234, 78, 51, 0.15) 0%, rgba(234, 78, 51, 0.05) 100%);
                border: 1px solid rgba(234, 78, 51, 0.2);
                border-radius: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
                position: relative;
            }
            .jed-image-placeholder::before {
                content: '';
                position: absolute;
                inset: 0;
                background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
                opacity: 0.08;
            }
            .jed-initials {
                font-family: 'Bebas Neue', sans-serif;
                font-size: 6rem;
                color: rgba(234, 78, 51, 0.25);
                letter-spacing: 0.05em;
                position: relative;
                z-index: 1;
            }

            /* Reveal All Button */
            .reveal-all-btn {
                position: relative;
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                padding: 0.6rem 1.2rem;
                border: 1px solid rgba(234, 78, 51, 0.4);
                border-radius: 9999px;
                background: rgba(234, 78, 51, 0.08);
                color: #EA4E33;
                font-family: 'JetBrains Mono', monospace;
                font-size: 0.7rem;
                font-weight: 500;
                letter-spacing: 0.1em;
                text-transform: uppercase;
                cursor: pointer;
                transition: background 0.5s cubic-bezier(0.16, 1, 0.3, 1),
                            border-color 0.5s cubic-bezier(0.16, 1, 0.3, 1),
                            color 0.5s cubic-bezier(0.16, 1, 0.3, 1),
                            transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            }
            .reveal-all-btn:hover {
                background: rgba(234, 78, 51, 0.15);
                border-color: #EA4E33;
                transform: scale(1.02);
            }
            .reveal-all-btn:active {
                transform: scale(0.98);
            }
            .reveal-all-btn.all-revealed {
                background: rgba(255, 255, 255, 0.05);
                border-color: rgba(255, 255, 255, 0.2);
                color: rgba(255, 255, 255, 0.5);
            }
            .reveal-all-btn.all-revealed:hover {
                background: rgba(255, 255, 255, 0.1);
                border-color: rgba(255, 255, 255, 0.3);
                color: rgba(255, 255, 255, 0.7);
            }

            /* Text crossfade */
            .reveal-all-text {
                transition: opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1), transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            }
            .reveal-all-text-show {
                opacity: 1;
                transform: translateY(0);
            }
            .reveal-all-text-hide {
                position: absolute;
                left: 1.2rem;
                opacity: 0;
                transform: translateY(8px);
            }
            .reveal-all-btn.all-revealed .reveal-all-text-show {
                opacity: 0;
                transform: translateY(-8px);
            }
            .reveal-all-btn.all-revealed .reveal-all-text-hide {
                opacity: 1;
                transform: translateY(0);
            }

            /* Icons container */
            .reveal-all-icons {
                position: relative;
                width: 16px;
                height: 16px;
            }
            .reveal-all-icon {
                position: absolute;
                top: 0;
                left: 0;
                width: 16px;
                height: 16px;
                transition: opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1), transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            }
            .reveal-all-icon-eye {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            .reveal-all-icon-eye-off {
                opacity: 0;
                transform: scale(0.8) rotate(-10deg);
            }
            .reveal-all-btn.all-revealed .reveal-all-icon-eye {
                opacity: 0;
                transform: scale(0.8) rotate(10deg);
            }
            .reveal-all-btn.all-revealed .reveal-all-icon-eye-off {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            .reveal-all-btn:hover .reveal-all-icon-eye {
                transform: scale(1.1);
            }
            .reveal-all-btn.all-revealed:hover .reveal-all-icon-eye-off {
                transform: scale(1.1);
            }
        </style>
        
        <script class="">
            (function() {
                // Wrap each word in the reveal sections with a span for individual animation
                const revealSections = document.querySelectorAll('.reveal-section');

                // Pre-cache word elements by section ID for efficient lookup
                const sectionWordCache = new Map();

                revealSections.forEach(section => {
                    const text = section.textContent;
                    const words = text.split(' ').filter(w => w.length > 0);
                    section.innerHTML = words.map(word => `<span class="reveal-word">${word}</span>`).join(' ');
                    // Store original text for restoration if needed
                    section.dataset.originalText = text;

                    // After wrapping words in spans, apply initial revealed state
                    const isInitiallyRevealed = section.classList.contains('revealed');
                    const wordElements = section.querySelectorAll('.reveal-word');

                    // Cache word elements by section ID
                    const sectionId = section.dataset.section;
                    if (sectionId) {
                        if (!sectionWordCache.has(sectionId)) {
                            sectionWordCache.set(sectionId, []);
                        }
                        wordElements.forEach(word => {
                            sectionWordCache.get(sectionId).push({ element: word, section: section });
                        });
                    }

                    if (isInitiallyRevealed) {
                        wordElements.forEach(word => {
                            word.classList.add('revealed');
                            // Add dim-word class if parent has dim-section
                            if (section.classList.contains('dim-section')) {
                                word.classList.add('dim-word');
                            }
                        });
                    } else {
                        // Add dim-word class if parent has dim-section
                        if (section.classList.contains('dim-section')) {
                            wordElements.forEach(word => word.classList.add('dim-word'));
                        }
                    }
                });

                const chips = document.querySelectorAll('.reveal-chip');
                chips.forEach(chip => {
                    chip.addEventListener('click', function() {
                        const sectionId = this.dataset.section;
                        const isRevealed = this.classList.contains('revealed');
                        this.classList.toggle('revealed');

                        // Get chip position for distance calculations
                        const chipRect = this.getBoundingClientRect();
                        const chipCenterX = chipRect.left + chipRect.width / 2;
                        const chipCenterY = chipRect.top + chipRect.height / 2;

                        // Use cached word elements instead of querying DOM
                        const cachedWords = sectionWordCache.get(sectionId) || [];
                        const allWords = cachedWords.map(({ element, section }) => {
                            const wordRect = element.getBoundingClientRect();
                            const wordCenterX = wordRect.left + wordRect.width / 2;
                            const wordCenterY = wordRect.top + wordRect.height / 2;

                            // Calculate distance from chip center to word center
                            const distance = Math.sqrt(
                                Math.pow(wordCenterX - chipCenterX, 2) +
                                Math.pow(wordCenterY - chipCenterY, 2)
                            );

                            return { element, section, distance };
                        });

                        // Sort by distance for ripple effect
                        if (isRevealed) {
                            // When closing, reverse order (outside to inside)
                            allWords.sort((a, b) => b.distance - a.distance);
                        } else {
                            // When opening, sort by distance (inside to outside)
                            allWords.sort((a, b) => a.distance - b.distance);
                        }

                        // Apply ripple animation with staggered delays
                        allWords.forEach((wordObj, index) => {
                            setTimeout(() => {
                                if (isRevealed) {
                                    wordObj.element.classList.remove('revealed');
                                } else {
                                    wordObj.element.classList.add('revealed');
                                }
                            }, index * 50); // 50ms delay between each word
                        });
                    });
                });

                // Reveal All button functionality
                const revealAllBtn = document.getElementById('reveal-all-btn');
                let isAnimating = false; // Lock to prevent interruption

                function updateRevealAllState() {
                    const allChips = document.querySelectorAll('.reveal-chip');
                    const unrevealedChips = Array.from(allChips).filter(chip => !chip.classList.contains('revealed'));
                    const allRevealed = unrevealedChips.length === 0;

                    if (allRevealed) {
                        revealAllBtn.classList.add('all-revealed');
                    } else {
                        revealAllBtn.classList.remove('all-revealed');
                    }
                }

                // Update state initially
                updateRevealAllState();

                // Update state when any chip is clicked (only if not animating from button)
                chips.forEach(chip => {
                    chip.addEventListener('click', () => {
                        if (!isAnimating) {
                            setTimeout(updateRevealAllState, 50);
                        }
                    });
                });

                revealAllBtn.addEventListener('click', function() {
                    // Prevent clicks while animation is running
                    if (isAnimating) return;

                    const allChips = document.querySelectorAll('.reveal-chip');
                    const unrevealedChips = Array.from(allChips).filter(chip => !chip.classList.contains('revealed'));
                    const allRevealed = unrevealedChips.length === 0;

                    // Lock the button
                    isAnimating = true;
                    revealAllBtn.style.pointerEvents = 'none';
                    revealAllBtn.style.opacity = '0.6';

                    // Get button position for distance calculations
                    const btnRect = this.getBoundingClientRect();
                    const btnCenterX = btnRect.left + btnRect.width / 2;
                    const btnCenterY = btnRect.top + btnRect.height / 2;

                    // Collect all chips with their distances
                    const chipsWithDistance = Array.from(allChips).map(chip => {
                        const chipRect = chip.getBoundingClientRect();
                        const chipCenterX = chipRect.left + chipRect.width / 2;
                        const chipCenterY = chipRect.top + chipRect.height / 2;
                        const distance = Math.sqrt(
                            Math.pow(chipCenterX - btnCenterX, 2) +
                            Math.pow(chipCenterY - btnCenterY, 2)
                        );
                        return { chip, distance };
                    });

                    // Sort by distance
                    if (allRevealed) {
                        // When hiding, start from furthest
                        chipsWithDistance.sort((a, b) => b.distance - a.distance);
                    } else {
                        // When revealing, start from nearest
                        chipsWithDistance.sort((a, b) => a.distance - b.distance);
                    }

                    // Trigger each chip with staggered delay
                    chipsWithDistance.forEach((item, index) => {
                        setTimeout(() => {
                            // Only click if state needs to change
                            if (allRevealed && item.chip.classList.contains('revealed')) {
                                item.chip.click();
                            } else if (!allRevealed && !item.chip.classList.contains('revealed')) {
                                item.chip.click();
                            }
                        }, index * 100); // 100ms delay between each chip
                    });

                    // Calculate total animation duration
                    const totalAnimationTime = chipsWithDistance.length * 100 + 600;

                    // Update button state and unlock after all animations complete
                    setTimeout(() => {
                        updateRevealAllState();
                        isAnimating = false;
                        revealAllBtn.style.pointerEvents = '';
                        revealAllBtn.style.opacity = '';
                    }, totalAnimationTime);
                });
            })();
        </script>

        <!-- Jed Hover Effect Script -->
        <script>
            // Run after a short delay to ensure word processing is complete
            setTimeout(function() {
                const jedImage = document.getElementById('jed-hover-image');

                // Find the reveal-word span that contains "Jed"
                const allWords = document.querySelectorAll('#reveal-paragraph .reveal-word');
                let jedTrigger = null;

                allWords.forEach(word => {
                    if (word.textContent.trim() === 'Jed,') {
                        jedTrigger = word;
                        word.id = 'jed-name-trigger';
                        word.classList.add('jed-name-hover');
                    }
                });

                if (jedTrigger && jedImage) {
                    jedTrigger.addEventListener('mouseenter', () => {
                        jedImage.classList.add('active');
                    });

                    jedTrigger.addEventListener('mouseleave', () => {
                        jedImage.classList.remove('active');
                    });

                    // Touch support
                    jedTrigger.addEventListener('touchstart', (e) => {
                        e.preventDefault();
                        jedImage.classList.toggle('active');
                    });
                }
            }, 100);
        </script>

            <!-- Pixel Bento Grid -->
            <div class="pixel-bento-grid w-full max-w-[1400px] relative z-20 flex-1">
                <!-- Card 01: Web Design (Large - 2x2) -->
                <div class="pixel-card pixel-card-large" style="grid-column: span 2; grid-row: span 2;">
                    <div class="pixel-card-content">
                        <div class="pixel-card-number">01</div>
                        <div class="pixel-card-body">
                            <h3 class="pixel-card-title">Web Design</h3>
                            <p class="pixel-card-desc">Custom websites that look stunning and actually convert visitors into customers</p>
                        </div>
                    </div>
                </div>

                <!-- Card 02: UX/UI Design (Tall - 1x2) -->
                <div class="pixel-card pixel-card-tall" style="grid-column: span 1; grid-row: span 2;">
                    <div class="pixel-card-content">
                        <div class="pixel-card-number">02</div>
                        <div class="pixel-card-body">
                            <h3 class="pixel-card-title">UX/UI Design</h3>
                            <p class="pixel-card-desc">User-first interfaces that make your product a joy to use</p>
                        </div>
                    </div>
                </div>

                <!-- Card 03: Animation (Compact - 1x1) -->
                <div class="pixel-card pixel-card-compact" style="grid-column: span 1; grid-row: span 1;">
                    <div class="pixel-card-content">
                        <div class="pixel-card-number">03</div>
                        <div class="pixel-card-body">
                            <h3 class="pixel-card-title">Animation</h3>
                            <p class="pixel-card-desc">Motion that tells stories</p>
                        </div>
                    </div>
                </div>

                <!-- Card 04: Art Direction (Wide - 2x1) -->
                <div class="pixel-card pixel-card-wide" style="grid-column: span 2; grid-row: span 1;">
                    <div class="pixel-card-content">
                        <div class="pixel-card-number">04</div>
                        <div class="pixel-card-body">
                            <h3 class="pixel-card-title">Art Direction</h3>
                            <p class="pixel-card-desc">Cohesive visual strategy that makes your brand instantly recognizable</p>
                        </div>
                    </div>
                </div>

                <!-- Card 05: Brand Identity (Wide - 2x1) -->
                <div class="pixel-card pixel-card-wide" style="grid-column: span 2; grid-row: span 1;">
                    <div class="pixel-card-content">
                        <div class="pixel-card-number">05</div>
                        <div class="pixel-card-body">
                            <h3 class="pixel-card-title">Brand Identity</h3>
                            <p class="pixel-card-desc">Logos, colors, and guidelines that help you stand out in a crowded market</p>
                        </div>
                    </div>
                </div>

                <!-- CTA Card -->
                <div class="pixel-card pixel-card-accent" style="grid-column: span 1; grid-row: span 1;">
                    <a href="#lets-talk-section" class="pixel-card-content pixel-accent-content" style="text-decoration: none;">
                        <div class="pixel-accent-symbol">
                            <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8 20h24M24 12l8 8-8 8" stroke="#EA4E33" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <span class="pixel-accent-text">Start a project</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Pixel Bento Styles -->
        <style>
            /* Intro + Bento Combined Section */
            .intro-bento-section {
                max-height: 100vh;
                display: flex;
                flex-direction: column;
                padding: 10vh 0;
            }

            .intro-bento-section > div {
                display: flex;
                flex-direction: column;
                flex: 1;
            }


            /* Pixel Bento Grid */
            .pixel-bento-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                grid-template-rows: repeat(3, 1fr);
                gap: 1px;
                background: rgba(255, 255, 255, 0.15);
                min-height: 0;
            }

            .pixel-card {
                position: relative;
                background: rgba(0, 0, 0, 0.7);
                border: none;
                border-radius: 0;
                overflow: hidden;
                cursor: pointer;
                transition: transform 0.15s ease-out,
                            box-shadow 0.15s ease-out,
                            background 0.15s ease-out;
            }

            /* Inset/pressed hover effect */
            .pixel-card:hover {
                background: rgba(0, 0, 0, 0.85);
                transform: scale(0.98);
                box-shadow: inset 0 4px 20px rgba(0, 0, 0, 0.8),
                            inset 0 2px 6px rgba(0, 0, 0, 0.9);
            }

            /* Subtle inner highlight on top edge when not hovered */
            .pixel-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 1px;
                background: rgba(255, 255, 255, 0.1);
                transition: opacity 0.15s ease-out;
            }

            .pixel-card:hover::before {
                opacity: 0;
            }

            /* Bottom/right shadow edge for 3D pixel look */
            .pixel-card::after {
                content: '';
                position: absolute;
                bottom: 0;
                right: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                box-shadow: inset -1px -1px 0 rgba(0, 0, 0, 0.3);
                transition: box-shadow 0.15s ease-out;
            }

            .pixel-card:hover::after {
                box-shadow: inset 2px 2px 0 rgba(255, 255, 255, 0.05),
                            inset -2px -2px 0 rgba(0, 0, 0, 0.5);
            }

            /* Context-aware hover - dim siblings */
            .pixel-bento-grid:has(.pixel-card:hover) .pixel-card:not(:hover) {
                filter: brightness(0.7);
            }

            .pixel-card-content {
                position: relative;
                z-index: 2;
                height: 100%;
                padding: 2rem;
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
                transition: transform 0.15s ease-out;
            }

            .pixel-card:hover .pixel-card-content {
                transform: translateY(2px);
            }

            .pixel-card-number {
                font-family: 'JetBrains Mono', monospace;
                font-size: 0.7rem;
                font-weight: 600;
                letter-spacing: 0.1em;
                color: #EA4E33;
                opacity: 0.7;
                flex-shrink: 0;
            }

            .pixel-card-body {
                margin-top: auto;
                flex-shrink: 0;
            }

            .pixel-card-title {
                font-family: 'Bebas Neue', sans-serif;
                font-size: clamp(2rem, 4vw, 3.5rem);
                line-height: 0.95;
                letter-spacing: -0.02em;
                color: #fff;
                margin: 0;
            }

            .pixel-card-desc {
                font-family: 'Inter', sans-serif;
                font-size: 0.85rem;
                font-weight: 400;
                color: rgba(255, 255, 255, 0.4);
                margin: 0.75rem 0 0 0;
                max-width: 280px;
                line-height: 1.5;
            }

            /* Accent Card */
            .pixel-card-accent {
                background: rgba(0, 0, 0, 0.5);
            }

            .pixel-accent-content {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                text-align: center;
                gap: 1rem;
            }

            .pixel-accent-symbol {
                width: 40px;
                height: 40px;
                opacity: 0.5;
                transition: opacity 0.15s ease-out;
            }

            .pixel-card-accent:hover .pixel-accent-symbol {
                opacity: 0.8;
            }

            .pixel-accent-text {
                font-family: 'JetBrains Mono', monospace;
                font-size: 0.7rem;
                letter-spacing: 0.1em;
                color: rgba(255, 255, 255, 0.3);
                text-transform: uppercase;
            }

            /* Header styling */
            .pixel-bento-header {
                opacity: 1;
            }

            /* Responsive */
            @media (max-width: 1024px) {
                .intro-bento-section {
                    min-height: auto;
                    padding: 1rem 0;
                }

                .pixel-bento-grid {
                    grid-template-columns: repeat(2, 1fr);
                    grid-template-rows: auto;
                }

                .pixel-card-large {
                    grid-column: span 2 !important;
                    grid-row: span 1 !important;
                }

                .pixel-card-tall {
                    grid-column: span 1 !important;
                    grid-row: span 1 !important;
                }
            }

            @media (max-width: 640px) {
                #reveal-paragraph-bento {
                    font-size: 0.9rem;
                }

                .pixel-bento-grid {
                    grid-template-columns: 1fr;
                    grid-template-rows: auto;
                }

                .pixel-card-large,
                .pixel-card-tall,
                .pixel-card-wide,
                .pixel-card-compact,
                .pixel-card-accent {
                    grid-column: span 1 !important;
                    grid-row: span 1 !important;
                }

                .pixel-card-content {
                    padding: 1.5rem;
                }

                .pixel-card-title {
                    font-size: 2rem;
                }
            }
        </style>
    </section>

    <!-- SELECTED WORK SECTION -->
    <section class="min-h-[140vh] flex flex-col z-20 overflow-visible bg-transparent w-full relative items-center" id="selected-work">
    
    <!-- Custom Styles for Blur, Animation & Layout -->
    <style class="">
        /* Performance: content-visibility disabled for 3D carousel compatibility */
        #selected-work {
            /* content-visibility removed - was clipping 3D carousel */
        }
        .portfolio-card {
            content-visibility: auto;
            contain-intrinsic-size: auto 600px;
        }

        /* 3D Carousel Styles */
        #carousel3d-container {
            position: relative;
            width: 100%;
            height: 130vh;
            min-height: 910px;
            margin: 2rem 0 4rem 0;
            overflow: visible !important;
            clip-path: none !important;
        }
        #carousel3d-container canvas {
            width: 100% !important;
            height: 100% !important;
            display: block;
            clip-path: none !important;
        }
        /* Ensure parent containers don't clip the carousel */
        #selected-work,
        #selected-work > div,
        #selected-work .md\:px-12,
        #selected-work .flex-col {
            overflow: visible !important;
            clip-path: none !important;
        }
        @media (max-width: 768px) {
            #carousel3d-container {
                height: 50vh;
                min-height: 350px;
            }
        }

        @keyframes animationIn {
            0% { opacity: 0; transform: translateY(80px) scale(0.96); filter: blur(12px); }
            100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0px); }
        }
        .animate-on-scroll { opacity: 0; will-change: transform, opacity, filter; }
        .animate-on-scroll.animate { animation: animationIn 1.1s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-on-scroll.animated { opacity: 1; transform: none; filter: none; animation: none; }

        /* Portfolio card info with progressive blur - stacked layers approach */
        .card-info-blurred {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 30;
            padding: 1.5rem;
        }

        .blur-stack {
            position: absolute;
            inset: 0;
            pointer-events: none;
        }

        .blur-stack::before,
        .blur-stack::after {
            content: '';
            position: absolute;
            inset: 0;
            backdrop-filter: blur(20px) contrast(1.2) brightness(1.1);
            -webkit-backdrop-filter: blur(20px) contrast(1.2) brightness(1.1);
            mask-image: linear-gradient(to bottom, transparent 0%, black 40%, black 100%);
            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 40%, black 100%);
        }

        .blur-stack::after {
            backdrop-filter: blur(40px) contrast(1.3) brightness(1.15);
            -webkit-backdrop-filter: blur(40px) contrast(1.3) brightness(1.15);
            mask-image: linear-gradient(to bottom, transparent 20%, black 60%, black 100%);
            -webkit-mask-image: linear-gradient(to bottom, transparent 20%, black 60%, black 100%);
        }
    </style>

    <!-- Progressive Blur Top (Sticky) -->
    <div id="progressive-blur-top" class="sticky top-0 left-0 w-full h-[25vh] z-40 pointer-events-none" style="opacity: 1; transition: opacity 0.8s ease-out;">
        <div class="progressive-blur-top">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <!-- Scrollable Content Container -->
    <div class="md:px-12 flex flex-col -mt-[10vh] w-full max-w-[1400px] z-10 pr-6 pl-6 relative items-center">
        
        <!-- 3D Carousel Container -->
        <div id="carousel3d-container" class="w-full animate-on-scroll">
            <!-- Three.js canvas will be inserted here -->
        </div>

        <!-- Three.js 3D Carousel Script -->
        <script>
        (function() {
            // Portfolio projects for the 3D carousel - 5 projects only (each shows once)
            const portfolioProjects = [
                // Project 1: Esthetic
                { image: 'https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/917d6f93-fb36-439a-8c48-884b67b35381_1600w.jpg', link: 'https://google.com' },
                // Project 2: Adfidence
                { image: 'https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400&h=500&fit=crop', link: 'https://google.com' },
                // Project 3: SLL
                { image: 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?w=400&h=500&fit=crop', link: 'https://google.com' },
                // Project 4: Placeholder for your 4th project
                { image: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=500&fit=crop', link: 'https://google.com' },
                // Project 5: Placeholder for your 5th project
                { image: 'https://images.unsplash.com/photo-1618556450994-a6a128ef0d9d?w=400&h=500&fit=crop', link: 'https://google.com' }
            ];

            let scene, camera, renderer, carousel;
            // Rotation to show card 0 at front (no rotation needed)
            const startRotation = 0;
            // Rotation to show card 4 (last) at front: rotate by 4 steps (4 * 72° = 288°)
            const endRotation = -4 * (Math.PI * 2 / 5);  // -4 * 72° in radians

            let targetRotation = startRotation;
            let currentRotation = startRotation;

            function initCarousel3D() {
                const container = document.getElementById('carousel3d-container');
                if (!container || typeof THREE === 'undefined') {
                    console.log('Three.js or container not found, retrying...');
                    setTimeout(initCarousel3D, 100);
                    return;
                }

                // Scene setup
                scene = new THREE.Scene();

                // Camera
                camera = new THREE.PerspectiveCamera(
                    60,
                    container.clientWidth / container.clientHeight,
                    0.1,
                    1000
                );
                camera.position.z = 14;  // Pulled back more to see full tornado
                camera.position.y = 0;   // Centered vertically

                // Renderer - optimized for mobile
                const isMobileDevice = window.innerWidth <= 1024;
                renderer = new THREE.WebGLRenderer({
                    antialias: !isMobileDevice, // Disable antialiasing on mobile for performance
                    alpha: true,
                    powerPreference: isMobileDevice ? 'low-power' : 'high-performance'
                });
                renderer.setSize(container.clientWidth, container.clientHeight);
                // Lower pixel ratio on mobile for better performance
                renderer.setPixelRatio(isMobileDevice ? 1 : Math.min(window.devicePixelRatio, 2));
                renderer.setClearColor(0x000000, 0);
                container.appendChild(renderer.domElement);

                // Create carousel group
                carousel = new THREE.Group();
                scene.add(carousel);

                // Create image planes in a cylinder
                const radius = 3.5;  // Slightly smaller radius for 5 cards
                const imageCount = portfolioProjects.length;
                const angleStep = (Math.PI * 2) / imageCount;

                // Texture loader
                const textureLoader = new THREE.TextureLoader();

                // Raycaster for click detection
                const raycaster = new THREE.Raycaster();
                const mouse = new THREE.Vector2();

                // Create each image plane - tornado style (spread vertically)
                portfolioProjects.forEach((project, i) => {
                    const angle = angleStep * i;

                    // Tornado effect: each card at different height, spiraling down
                    const verticalSpread = 5.5;  // Tighter vertical spread
                    const topOffset = 2.2;       // First card position
                    const yPosition = topOffset - (i / (portfolioProjects.length - 1)) * verticalSpread;

                    // Vary radius slightly for more organic tornado look
                    const radiusVariation = radius + (Math.sin(i * 0.8) * 0.3);

                    // All cards same size (30% larger)
                    const baseWidth = 2.91;
                    const baseHeight = 3.82;

                    // Create plane geometry - uniform size for all cards
                    const geometry = new THREE.PlaneGeometry(baseWidth, baseHeight);

                    // Load texture
                    const material = new THREE.MeshBasicMaterial({
                        color: 0x333333,
                        side: THREE.DoubleSide
                    });

                    const plane = new THREE.Mesh(geometry, material);

                    // Position in cylinder - tornado spiral
                    plane.position.x = Math.sin(angle) * radiusVariation;
                    plane.position.z = Math.cos(angle) * radiusVariation;
                    plane.position.y = yPosition + (Math.random() - 0.5) * 0.3;  // Slight randomness

                    // Rotate to face center
                    plane.rotation.y = angle + Math.PI;

                    // Add slight tilt for dynamic feel
                    plane.rotation.x = (Math.random() - 0.5) * 0.15;
                    plane.rotation.z = (Math.random() - 0.5) * 0.08;

                    // Store base angle for scale calculation and link
                    plane.userData.baseAngle = angle;
                    plane.userData.link = project.link;
                    // Initialize animation values upfront (avoid per-frame checks)
                    plane.userData.hoverScale = 1.0;
                    plane.userData.brightness = 1.0;

                    carousel.add(plane);

                    // Load texture asynchronously
                    textureLoader.load(
                        project.image,
                        (texture) => {
                            texture.minFilter = THREE.LinearFilter;
                            texture.magFilter = THREE.LinearFilter;
                            material.map = texture;
                            material.color.setHex(0xffffff);
                            material.needsUpdate = true;
                        },
                        undefined,
                        (error) => {
                            console.log('Error loading texture:', project.image);
                        }
                    );
                });

                // Click handler for cards
                container.addEventListener('click', (event) => {
                    const rect = container.getBoundingClientRect();
                    mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
                    mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

                    raycaster.setFromCamera(mouse, camera);
                    const intersects = raycaster.intersectObjects(carousel.children);

                    if (intersects.length > 0) {
                        const clickedCard = intersects[0].object;
                        if (clickedCard.userData.link) {
                            window.open(clickedCard.userData.link, '_blank');
                        }
                    }
                });

                // Track hovered card for smooth animation
                let hoveredCard = null;

                // Only enable hover effects on desktop (no hover on touch devices)
                if (!isMobileDevice) {
                    // Optimization: Throttle raycaster with RAF (but get fresh rect each time since scroll changes position)
                    let carouselPointerRAF = null;
                    let lastMouseX = 0, lastMouseY = 0;

                    // Change cursor on hover and track hovered card (RAF throttled)
                    container.addEventListener('mousemove', (event) => {
                        lastMouseX = event.clientX;
                        lastMouseY = event.clientY;

                        // Throttle raycaster to RAF (max 60fps)
                        if (carouselPointerRAF) return;

                        carouselPointerRAF = requestAnimationFrame(() => {
                            // Get fresh rect each RAF frame (scroll changes container position)
                            const rect = container.getBoundingClientRect();
                            mouse.x = ((lastMouseX - rect.left) / rect.width) * 2 - 1;
                            mouse.y = -((lastMouseY - rect.top) / rect.height) * 2 + 1;

                            raycaster.setFromCamera(mouse, camera);
                            const intersects = raycaster.intersectObjects(carousel.children);

                            if (intersects.length > 0) {
                                hoveredCard = intersects[0].object;
                                container.style.cursor = 'pointer';
                            } else {
                                hoveredCard = null;
                                container.style.cursor = 'default';
                            }
                            carouselPointerRAF = null;
                        });
                    });

                    container.addEventListener('mouseleave', () => {
                        hoveredCard = null;
                        container.style.cursor = 'default';
                    });
                }

                // Store hoveredCard reference for animation loop
                window._carouselHoveredCard = () => hoveredCard;

                // Single row only - each project shows once

                // Ambient light
                const ambientLight = new THREE.AmbientLight(0xffffff, 1);
                scene.add(ambientLight);

                // Handle window resize (debounced for performance)
                let carouselResizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(carouselResizeTimeout);
                    carouselResizeTimeout = setTimeout(onCarouselResize, 100);
                });

                // Initialize GSAP ScrollTrigger for rotation
                initScrollRotation();

                // Start animation
                animateCarousel();

                console.log('3D Carousel initialized successfully');
            }

            function onCarouselResize() {
                const container = document.getElementById('carousel3d-container');
                if (!container || !camera || !renderer) return;

                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            }

            let isCarouselInView = false;
            let isCarouselVisible = true; // For visibility-based rendering optimization
            const isMobileCarousel = window.innerWidth <= 1024;
            let lastFrameTime = 0;
            const mobileFrameInterval = 1000 / 30; // 30fps on mobile instead of 60fps

            function animateCarousel(currentTime) {
                requestAnimationFrame(animateCarousel);

                // Skip rendering when carousel is not visible (major performance optimization)
                if (!isCarouselVisible) return;

                // Throttle to 30fps on mobile for better performance
                if (isMobileCarousel) {
                    if (currentTime - lastFrameTime < mobileFrameInterval) return;
                    lastFrameTime = currentTime;
                }

                // Smooth rotation based on scroll
                currentRotation += (targetRotation - currentRotation) * 0.05;

                // Get currently hovered card
                const hoveredCard = window._carouselHoveredCard ? window._carouselHoveredCard() : null;

                if (carousel) {
                    carousel.rotation.y = currentRotation;

                    // Scale cards based on proximity to front (facing camera) + hover effect
                    carousel.children.forEach((plane) => {
                        if (plane.userData.baseAngle !== undefined) {
                            // Card's world angle (base angle + carousel rotation)
                            let worldAngle = plane.userData.baseAngle + currentRotation;
                            // Normalize to [-PI, PI]
                            worldAngle = ((worldAngle + Math.PI) % (Math.PI * 2)) - Math.PI;
                            // Front-facing is at angle 0, calculate proximity (1 = front, 0 = back)
                            const proximity = Math.cos(worldAngle);
                            // Base scale: 1.0 at back, 1.3 at front
                            let baseScale = 1.0 + 0.3 * Math.max(0, proximity);

                            // Target hover scale (userData.hoverScale initialized during plane creation)
                            const targetHoverScale = (plane === hoveredCard) ? 1.15 : 1.0;
                            // Smooth lerp to target
                            plane.userData.hoverScale += (targetHoverScale - plane.userData.hoverScale) * 0.1;

                            // Apply combined scale
                            const finalScale = baseScale * plane.userData.hoverScale;
                            plane.scale.set(finalScale, finalScale, finalScale);

                            // Hover brightness effect (optimized: only update when changed significantly)
                            if (plane.material) {
                                const targetBrightness = (plane === hoveredCard) ? 1.3 : 1.0;
                                const newBrightness = plane.userData.brightness + (targetBrightness - plane.userData.brightness) * 0.1;
                                // Only update material color if brightness changed meaningfully
                                if (Math.abs(newBrightness - plane.userData.brightness) > 0.001) {
                                    plane.userData.brightness = newBrightness;
                                    plane.material.color.setRGB(newBrightness, newBrightness, newBrightness);
                                }
                            }
                        }
                    });
                }

                if (renderer && scene && camera) {
                    renderer.render(scene, camera);
                }
            }

            function initScrollRotation() {
                if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') {
                    console.log('GSAP not loaded, retrying...');
                    setTimeout(initScrollRotation, 100);
                    return;
                }

                gsap.registerPlugin(ScrollTrigger);

                ScrollTrigger.create({
                    trigger: '#carousel3d-container',
                    start: 'top bottom',
                    end: 'bottom top',
                    scrub: 1,
                    onEnter: () => { isCarouselInView = true; },
                    onLeave: () => { isCarouselInView = false; },
                    onEnterBack: () => { isCarouselInView = true; },
                    onLeaveBack: () => { isCarouselInView = false; },
                    onUpdate: (self) => {
                        // Map scroll: 38% = card 0 front, 65% = card 4 front
                        // Remap progress from [0.38, 0.65] to [0, 1], continue rotating after 65%
                        const remappedProgress = Math.max(0, (self.progress - 0.38) / 0.27);
                        targetRotation = startRotation + (endRotation - startRotation) * remappedProgress;
                    }
                });
            }

            // Visibility observer to pause rendering when carousel is not visible
            function initCarouselVisibilityObserver() {
                const container = document.getElementById('carousel3d-container');
                if (!container) return;

                const carouselVisibilityObserver = new IntersectionObserver((entries) => {
                    isCarouselVisible = entries[0].isIntersecting;
                }, { threshold: 0 });
                carouselVisibilityObserver.observe(container);
            }

            // Initialize when DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', () => {
                    initCarousel3D();
                    initCarouselVisibilityObserver();
                });
            } else {
                initCarousel3D();
                initCarouselVisibilityObserver();
            }
        })();
        </script>

            </div>


    <!-- JS for Animation on Scroll -->
    <script>
        (function () {
            const observerOptions = { threshold: 0.1, rootMargin: "0px 0px -5% 0px" };
            const animateObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate');
                        // Lock in final state after animation completes to prevent re-triggering
                        entry.target.addEventListener('animationend', () => {
                            entry.target.classList.add('animated');
                        }, { once: true });
                        animateObserver.unobserve(entry.target);
                    }
                });
            }, observerOptions);
            document.querySelectorAll('.animate-on-scroll').forEach(el => { animateObserver.observe(el); });

            const selectedWorkSection = document.getElementById('selected-work');
            const progressiveBlurTop = document.getElementById('progressive-blur-top');
            window._updateBlurVisibility = function() {
                if (!selectedWorkSection || !progressiveBlurTop) return;
                const rect = selectedWorkSection.getBoundingClientRect();
                const shouldShow = rect.top <= 50;
                progressiveBlurTop.style.opacity = shouldShow ? '1' : '0';
            };
            window._updateBlurVisibility();
        })();
    </script>
</section>

<!-- TESTIMONIAL SECTION -->
<section id="testimonials" class="relative w-full py-32 bg-transparent z-20 overflow-hidden blend-section">
    <div class="max-w-7xl mx-auto px-6 md:px-12">
        <!-- Section Header -->
        <div class="mb-16 text-center">
            <div class="flex items-center justify-center gap-4 mb-3">
                <div class="w-12 h-[2px] bg-[#EA4E33]"></div>
                <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; font-weight: 400; letter-spacing: 0.15em; color: rgba(255,255,255,0.5);" data-i18n="testimonial.label">WHAT CLIENTS SAY</div>
                <div class="w-12 h-[2px] bg-[#EA4E33]"></div>
            </div>
        </div>

        <!-- Testimonials Grid - 3 columns on desktop, stacked on mobile -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">

            <!-- Testimonial 1 -->
            <div class="relative bg-white/[0.02] border border-white/10 rounded-2xl p-6 md:p-8 backdrop-blur-sm">
                <div class="absolute -top-3 left-6 md:left-8">
                    <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11 7.5V17H4.5V11.5C4.5 9.29 6.29 7.5 8.5 7.5H11ZM19.5 7.5V17H13V11.5C13 9.29 14.79 7.5 17 7.5H19.5Z" fill="#EA4E33" opacity="0.3"/>
                    </svg>
                </div>
                <blockquote class="relative z-10 pt-4">
                    <p style="font-family: 'Manrope', sans-serif; font-size: 1rem; line-height: 1.7; color: rgba(255,255,255,0.9); font-weight: 400;" class="mb-6" data-i18n="testimonial.quote1">
                        "Working with Jed was a game-changer for our brand. He understood our vision immediately and delivered a website that exceeded our expectations."
                    </p>
                    <footer class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[#EA4E33]/30 to-[#EA4E33]/10 flex items-center justify-center flex-shrink-0">
                            <span style="font-family: 'Bebas Neue', sans-serif; font-size: 1rem; color: #EA4E33;">SK</span>
                        </div>
                        <div>
                            <cite style="font-family: 'Inter', sans-serif; font-size: 0.875rem; font-weight: 500; color: white; font-style: normal; display: block;">Sarah K.</cite>
                            <span style="font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; letter-spacing: 0.05em; color: rgba(255,255,255,0.4);" data-i18n="testimonial.role1">FOUNDER, STARTUP CO.</span>
                        </div>
                    </footer>
                </blockquote>
            </div>

            <!-- Testimonial 2 -->
            <div class="relative bg-white/[0.02] border border-white/10 rounded-2xl p-6 md:p-8 backdrop-blur-sm">
                <div class="absolute -top-3 left-6 md:left-8">
                    <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11 7.5V17H4.5V11.5C4.5 9.29 6.29 7.5 8.5 7.5H11ZM19.5 7.5V17H13V11.5C13 9.29 14.79 7.5 17 7.5H19.5Z" fill="#EA4E33" opacity="0.3"/>
                    </svg>
                </div>
                <blockquote class="relative z-10 pt-4">
                    <p style="font-family: 'Manrope', sans-serif; font-size: 1rem; line-height: 1.7; color: rgba(255,255,255,0.9); font-weight: 400;" class="mb-6" data-i18n="testimonial.quote2">
                        "The attention to detail and communication throughout the project was exceptional. Our new site has significantly improved our conversion rates."
                    </p>
                    <footer class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[#EA4E33]/30 to-[#EA4E33]/10 flex items-center justify-center flex-shrink-0">
                            <span style="font-family: 'Bebas Neue', sans-serif; font-size: 1rem; color: #EA4E33;">MR</span>
                        </div>
                        <div>
                            <cite style="font-family: 'Inter', sans-serif; font-size: 0.875rem; font-weight: 500; color: white; font-style: normal; display: block;">Michael R.</cite>
                            <span style="font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; letter-spacing: 0.05em; color: rgba(255,255,255,0.4);" data-i18n="testimonial.role2">CEO, TECH VENTURES</span>
                        </div>
                    </footer>
                </blockquote>
            </div>

            <!-- Testimonial 3 -->
            <div class="relative bg-white/[0.02] border border-white/10 rounded-2xl p-6 md:p-8 backdrop-blur-sm">
                <div class="absolute -top-3 left-6 md:left-8">
                    <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11 7.5V17H4.5V11.5C4.5 9.29 6.29 7.5 8.5 7.5H11ZM19.5 7.5V17H13V11.5C13 9.29 14.79 7.5 17 7.5H19.5Z" fill="#EA4E33" opacity="0.3"/>
                    </svg>
                </div>
                <blockquote class="relative z-10 pt-4">
                    <p style="font-family: 'Manrope', sans-serif; font-size: 1rem; line-height: 1.7; color: rgba(255,255,255,0.9); font-weight: 400;" class="mb-6" data-i18n="testimonial.quote3">
                        "Jed transformed our online presence completely. Professional, creative, and incredibly easy to work with. Highly recommend for any business."
                    </p>
                    <footer class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[#EA4E33]/30 to-[#EA4E33]/10 flex items-center justify-center flex-shrink-0">
                            <span style="font-family: 'Bebas Neue', sans-serif; font-size: 1rem; color: #EA4E33;">AL</span>
                        </div>
                        <div>
                            <cite style="font-family: 'Inter', sans-serif; font-size: 0.875rem; font-weight: 500; color: white; font-style: normal; display: block;">Amanda L.</cite>
                            <span style="font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; letter-spacing: 0.05em; color: rgba(255,255,255,0.4);" data-i18n="testimonial.role3">DIRECTOR, CREATIVE AGENCY</span>
                        </div>
                    </footer>
                </blockquote>
            </div>

        </div>
    </div>
</section>

<!-- LET'S TALK SECTION -->
<section id="lets-talk-section" class="relative w-full min-h-screen bg-transparent flex flex-col items-center justify-center z-30 overflow-hidden blend-section">
    <style>
        .frame-container { position: relative; width: min(70vw, 600px); height: min(70vw, 600px); display: flex; align-items: center; justify-content: center; transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1); }
        .frame-container:hover { transform: scale(1.02); }
        .frame-square { position: absolute; width: 75%; height: 75%; background: white; }
        .frame-square-back { top: 0; right: 0; }
        .frame-square-front { bottom: 0; left: 0; }
        .frame-hole { position: absolute; width: 50%; height: 50%; background: transparent; z-index: 10; display: flex; align-items: center; justify-content: center; top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .lets-talk-link { font-family: 'Manrope', sans-serif; font-size: clamp(1.5rem, 3vw, 2.5rem); font-weight: 500; color: white; text-decoration: none; position: relative; letter-spacing: -0.02em; z-index: 20; }
        .lets-talk-link::after { content: ''; position: absolute; bottom: -4px; left: 0; width: 100%; height: 1px; background: white; transform: scaleX(1); transform-origin: left; transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        .lets-talk-link:hover::after { transform: scaleX(0); transform-origin: right; }
        .side-text { font-family: 'Inter', sans-serif; font-size: 10px; font-weight: 500; letter-spacing: 0.2em; text-transform: uppercase; color: white; }
        .dot-indicator { width: 6px; height: 6px; background: white; border-radius: 50%; display: inline-block; margin-right: 8px; animation: pulse-dot 2s ease-in-out infinite; }
        @keyframes pulse-dot { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(0.8); } }
        .footer-link { font-family: 'Inter', sans-serif; font-size: 10px; font-weight: 500; letter-spacing: 0.15em; text-transform: uppercase; color: rgba(255, 255, 255, 0.5); text-decoration: none; transition: color 0.3s ease; }
        .footer-link:hover { color: white; }
    </style>
    <div class="relative w-full h-full flex items-center justify-center py-20">
        <div class="absolute left-6 md:left-12 top-1/2 -translate-y-1/2"><span class="side-text">New Frame Studio</span></div>
        <div class="frame-container">
            <svg width="100%" height="100%" viewBox="0 0 500 500" fill="none" xmlns="http://www.w3.org/2000/svg" class="absolute inset-0">
                <rect width="300" height="100" transform="matrix(-1 0 0 1 400 400)" fill="white"/>
                <rect width="100" height="400" transform="matrix(-1 0 0 1 500 100)" fill="white"/>
                <rect width="300" height="100" transform="matrix(1 0 0 -1 100 100)" fill="white"/>
                <rect width="100" height="400" transform="matrix(1 0 0 -1 0 400)" fill="white"/>
            </svg>
            <div class="frame-hole" style="flex-direction: column; gap: 0.75rem;">
                <a href="mailto:jed.mejzner@gmail.com?subject=Project%20Inquiry%20-%20New%20Frame%20Studio" class="lets-talk-link" data-i18n="contact.cta">Let's Talk!</a>
                <span style="font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; letter-spacing: 0.05em; color: rgba(255,255,255,0.5);">jed.mejzner@gmail.com</span>
            </div>
        </div>
        <div class="absolute right-6 md:right-12 top-1/2 -translate-y-1/2 flex items-center"><span class="dot-indicator"></span><span class="side-text">Digital Fun</span></div>
    </div>
    <div class="absolute bottom-8 left-0 right-0 px-6 md:px-12">
        <div class="flex flex-wrap justify-between items-center gap-4 max-w-[1800px] mx-auto">
            <a href="#" class="footer-link">Instagram</a><a href="#" class="footer-link">Legal</a><a href="#" class="footer-link">LinkedIn</a>
            <a href="#" class="footer-link">Privacy</a><a href="#" class="footer-link">Awwwards</a><a href="#" class="footer-link">Cookies</a><a href="#" class="footer-link">Behance</a>
        </div>
    </div>
</section>

    <!-- Footer -->
    <footer class="relative z-50 bg-transparent py-16 px-6 md:px-12 border-t border-white/10 blend-section">
        <div class="flex flex-col md:flex-row justify-between items-end md:items-center gap-6">
            <div class="flex items-center gap-2 text-white/40">
                <svg width="24" height="24" viewBox="0 0 500 500" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4">
                    <rect width="300" height="100" transform="matrix(-1 0 0 1 400 400)" fill="currentColor"/>
                    <rect width="100" height="400" transform="matrix(-1 0 0 1 500 100)" fill="currentColor"/>
                    <rect width="300" height="100" transform="matrix(1 0 0 -1 100 100)" fill="currentColor"/>
                    <rect width="100" height="400" transform="matrix(1 0 0 -1 0 400)" fill="currentColor"/>
                </svg>
                <span class="text-[10px] uppercase tracking-wider" data-i18n="footer.rights">All rights reserved</span>
            </div>
            <div class="flex gap-8">
                <a href="#" class="text-white/40 hover:text-white text-xs uppercase tracking-widest transition-colors">Instagram</a>
                <a href="#" class="text-white/40 hover:text-white text-xs uppercase tracking-widest transition-colors">Twitter</a>
                <a href="#" class="text-white/40 hover:text-white text-xs uppercase tracking-widest transition-colors">LinkedIn</a>
            </div>
        </div>
    </footer>

    <!-- Styles for animation classes -->
    <style>
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-up { animation: fadeInUp 1s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    </style>

    <script>
        lucide.createIcons();

        // Check if device is desktop (not tablet or mobile)
        const isDesktop = window.innerWidth > 1024;

        // Initialize Lenis only on desktop devices
        let lenis = null;
        if (isDesktop) {
            lenis = new Lenis({
                autoRaf: true,
            });

            window.lenis = lenis;

            // Bridge to existing scroll handlers
            lenis.on('scroll', () => {
                if (window._updateBlurVisibility) window._updateBlurVisibility();
            });
        } else {
            // For mobile/tablet, use native scroll event for blur visibility
            window.addEventListener('scroll', () => {
                if (window._updateBlurVisibility) window._updateBlurVisibility();
            });
        }

        // Smooth scroll for nav links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                if (!href || href === '#') return;

                const target = document.querySelector(href);
                if (target) {
                    e.preventDefault();
                    if (lenis) {
                        // Use Lenis smooth scroll on desktop
                        lenis.scrollTo(target, {
                            duration: 1.5,
                            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                        });
                    } else {
                        // Use native smooth scroll on mobile/tablet
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            });
        });
    </script>

    <!-- Language Switching System -->
    <script>
    (function() {
        const translations = {
            en: {
                // Navigation
                'nav.scope': 'Scope',
                'nav.work': 'Work',
                'nav.contact': 'Contact',

                // Hero
                'hero.location': 'LOCATION',
                'hero.remote': 'REMOTE',
                'hero.worldwide': 'WORKING WITH CLIENTS WORLDWIDE',
                'hero.established': 'ESTABLISHED',
                'hero.scroll': 'SCROLL TO EXPLORE',

                // Services
                'services.label': 'CAPABILITIES',
                'services.title': 'WHAT I DO',
                'services.web.title': 'Web Design',
                'services.web.desc': 'Custom websites that look stunning and actually convert visitors into customers',
                'services.ux.title': 'UX/UI Design',
                'services.ux.desc': 'User-first interfaces that make your product a joy to use',
                'services.animation.title': 'Animation',
                'services.animation.desc': 'Motion that tells stories',
                'services.art.title': 'Art Direction',
                'services.art.desc': 'Cohesive visual strategy that makes your brand instantly recognizable',
                'services.brand.title': 'Brand Identity',
                'services.brand.desc': 'Logos, colors, and guidelines that help you stand out in a crowded market',
                'services.cta': 'Start a project',

                // About / Reveal paragraph
                'about.revealAll': 'Reveal All',
                'about.hideAll': 'Hide All',

                // Testimonial
                'testimonial.label': 'WHAT CLIENTS SAY',
                'testimonial.quote': '"Working with Jed was a game-changer for our brand. He understood our vision immediately and delivered a website that exceeded our expectations. The attention to detail and communication throughout the project was exceptional."',
                'testimonial.role': 'FOUNDER, STARTUP CO.',
                'testimonial.more': 'MORE TESTIMONIALS COMING SOON',

                // Contact
                'contact.cta': "Let's Talk!",

                // Footer
                'footer.rights': 'All rights reserved'
            },
            pl: {
                // Navigation
                'nav.scope': 'Zakres',
                'nav.work': 'Portfolio',
                'nav.contact': 'Kontakt',

                // Hero
                'hero.location': 'LOKALIZACJA',
                'hero.remote': 'ZDALNIE',
                'hero.worldwide': 'WSPÓŁPRACA Z KLIENTAMI NA CAŁYM ŚWIECIE',
                'hero.established': 'ZAŁOŻONE',
                'hero.scroll': 'PRZEWIŃ, ABY ODKRYĆ',

                // Services
                'services.label': 'USŁUGI',
                'services.title': 'CO ROBIĘ',
                'services.web.title': 'Web Design',
                'services.web.desc': 'Niestandardowe strony, które wyglądają świetnie i faktycznie zamieniają odwiedzających w klientów',
                'services.ux.title': 'UX/UI Design',
                'services.ux.desc': 'Interfejsy zorientowane na użytkownika, które sprawiają, że korzystanie z produktu to przyjemność',
                'services.animation.title': 'Animacja',
                'services.animation.desc': 'Ruch, który opowiada historie',
                'services.art.title': 'Kierunek Artystyczny',
                'services.art.desc': 'Spójna strategia wizualna, która sprawia, że Twoja marka jest natychmiast rozpoznawalna',
                'services.brand.title': 'Identyfikacja Wizualna',
                'services.brand.desc': 'Logo, kolory i wytyczne, które pomogą Ci wyróżnić się na zatłoczonym rynku',
                'services.cta': 'Rozpocznij projekt',

                // About / Reveal paragraph
                'about.revealAll': 'Pokaż wszystko',
                'about.hideAll': 'Ukryj wszystko',

                // Testimonial
                'testimonial.label': 'CO MÓWIĄ KLIENCI',
                'testimonial.quote': '"Współpraca z Jedem była przełomem dla naszej marki. Od razu zrozumiał naszą wizję i dostarczył stronę, która przekroczyła nasze oczekiwania. Dbałość o szczegóły i komunikacja przez cały projekt były wyjątkowe."',
                'testimonial.role': 'ZAŁOŻYCIELKA, STARTUP CO.',
                'testimonial.more': 'WIĘCEJ OPINII WKRÓTCE',

                // Contact
                'contact.cta': 'Porozmawiajmy!',

                // Footer
                'footer.rights': 'Wszelkie prawa zastrzeżone'
            }
        };

        // About section content (separate because of complex structure)
        const aboutContent = {
            en: `
                <span class="reveal-section revealed" data-section="0">Hey! I'm Jed, the founder of</span>
                <button class="reveal-chip revealed" data-section="0">NEWFRAME</button>
                <span class="reveal-section revealed" data-section="0">— and I help businesses look as good as they perform.</span>

                <span class="reveal-section" data-section="1">By day, I'm</span>
                <button class="reveal-chip" data-section="1">HEAD OF DESIGN</button>
                <span class="reveal-section" data-section="1">at a SaaS company. New Frame is where I channel my passion for helping smaller teams level up.</span>

                <span class="reveal-section" data-section="2">I work</span>
                <button class="reveal-chip" data-section="2">REMOTELY</button>
                <span class="reveal-section" data-section="2">with startups and small businesses who need serious design without the agency overhead.</span>

                <span class="reveal-section" data-section="3">My focus? Building</span>
                <button class="reveal-chip" data-section="3">WEBSITES</button>
                <span class="reveal-section" data-section="3">that convert visitors into customers.</span>

                <span class="reveal-section" data-section="4">From</span>
                <button class="reveal-chip" data-section="4">BRANDING</button>
                <span class="reveal-section" data-section="4">to full site builds, I obsess over every detail so you don't have to.</span>

                <span class="reveal-section" data-section="7">Ready to make something</span>
                <button class="reveal-chip" data-section="7">EXTRAORDINARY</button>
                <span class="reveal-section" data-section="7">together? Let's talk.</span>
            `,
            pl: `
                <span class="reveal-section revealed" data-section="0">Cześć! Jestem Jed, założyciel</span>
                <button class="reveal-chip revealed" data-section="0">NEWFRAME</button>
                <span class="reveal-section revealed" data-section="0">— pomagam firmom wyglądać tak dobrze, jak działają.</span>

                <span class="reveal-section" data-section="1">Na co dzień jestem</span>
                <button class="reveal-chip" data-section="1">HEAD OF DESIGN</button>
                <span class="reveal-section" data-section="1">w firmie SaaS. New Frame to miejsce, gdzie realizuję swoją pasję pomagania mniejszym zespołom.</span>

                <span class="reveal-section" data-section="2">Pracuję</span>
                <button class="reveal-chip" data-section="2">ZDALNIE</button>
                <span class="reveal-section" data-section="2">ze startupami i małymi firmami, które potrzebują profesjonalnego designu bez kosztów agencji.</span>

                <span class="reveal-section" data-section="3">Moja specjalność? Tworzenie</span>
                <button class="reveal-chip" data-section="3">STRON WWW</button>
                <span class="reveal-section" data-section="3">które zamieniają odwiedzających w klientów.</span>

                <span class="reveal-section" data-section="4">Od</span>
                <button class="reveal-chip" data-section="4">BRANDINGU</button>
                <span class="reveal-section" data-section="4">po kompletne strony — dbam o każdy szczegół, żebyś Ty nie musiał.</span>

                <span class="reveal-section" data-section="7">Gotowy stworzyć coś</span>
                <button class="reveal-chip" data-section="7">NIEZWYKŁEGO</button>
                <span class="reveal-section" data-section="7">razem? Porozmawiajmy.</span>
            `
        };

        let currentLang = localStorage.getItem('newframe-lang') || 'en';

        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('newframe-lang', lang);

            // Update simple translations
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });

            // Update about section (needs re-initialization)
            const revealParagraph = document.getElementById('reveal-paragraph');
            if (revealParagraph && aboutContent[lang]) {
                revealParagraph.innerHTML = aboutContent[lang];
                reinitializeRevealText();
            }

            // Update language buttons
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('lang-active', btn.dataset.lang === lang);
            });

            // Update HTML lang attribute
            document.documentElement.lang = lang;
        }

        function reinitializeRevealText() {
            // Re-run the word wrapping logic from the original reveal script
            const revealSections = document.querySelectorAll('#reveal-paragraph .reveal-section');

            revealSections.forEach(section => {
                const text = section.textContent;
                const words = text.split(' ').filter(w => w.length > 0);
                section.innerHTML = words.map(word => `<span class="reveal-word">${word}</span>`).join(' ');

                const isInitiallyRevealed = section.classList.contains('revealed');
                const wordElements = section.querySelectorAll('.reveal-word');

                if (isInitiallyRevealed) {
                    wordElements.forEach(word => word.classList.add('revealed'));
                }
            });

            // Reinitialize chip click handlers
            const chips = document.querySelectorAll('#reveal-paragraph .reveal-chip');
            chips.forEach(chip => {
                chip.addEventListener('click', function() {
                    const sectionId = this.dataset.section;
                    this.classList.toggle('revealed');

                    const relatedSections = document.querySelectorAll(`#reveal-paragraph .reveal-section[data-section="${sectionId}"]`);
                    relatedSections.forEach(section => {
                        section.classList.toggle('revealed');
                        section.querySelectorAll('.reveal-word').forEach(word => {
                            word.classList.toggle('revealed');
                        });
                    });
                });
            });

            // Re-run Jed name hover effect
            setTimeout(function() {
                const jedImage = document.getElementById('jed-hover-image');
                const allWords = document.querySelectorAll('#reveal-paragraph .reveal-word');

                allWords.forEach(word => {
                    if (word.textContent.trim() === 'Jed,' || word.textContent.trim() === 'Jed') {
                        word.id = 'jed-name-trigger';
                        word.classList.add('jed-name-hover');

                        if (jedImage) {
                            word.addEventListener('mouseenter', () => jedImage.classList.add('active'));
                            word.addEventListener('mouseleave', () => jedImage.classList.remove('active'));
                        }
                    }
                });
            }, 50);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set up language button listeners
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => setLanguage(btn.dataset.lang));
            });

            // Apply saved language (if not default)
            if (currentLang !== 'en') {
                setLanguage(currentLang);
            }
        });
    })();
    </script>

    <!-- Cursor Crosshair Tracker Script -->
    <script>
    (function() {
        // Skip on mobile and tablet (< 1024px)
        if (window.innerWidth < 1024) return;

        const crosshair = document.getElementById('cursor-crosshair');
        if (!crosshair) return;

        const hLine = crosshair.querySelector('.crosshair-h');
        const vLine = crosshair.querySelector('.crosshair-v');

        let mouseX = 0, mouseY = 0;
        let currentX = 0, currentY = 0;
        let isVisible = false;
        let animationId = null;

        function animate() {
            currentX += (mouseX - currentX) * 0.15;
            currentY += (mouseY - currentY) * 0.15;

            hLine.style.transform = `translateY(${currentY}px)`;
            vLine.style.transform = `translateX(${currentX}px)`;

            if (Math.abs(mouseX - currentX) > 0.1 || Math.abs(mouseY - currentY) > 0.1) {
                animationId = requestAnimationFrame(animate);
            } else {
                animationId = null;
            }
        }

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;

            if (!isVisible) {
                isVisible = true;
                crosshair.classList.add('active');
            }

            if (!animationId) {
                animationId = requestAnimationFrame(animate);
            }
        });

        document.addEventListener('mouseleave', () => {
            isVisible = false;
            crosshair.classList.remove('active');
        });

        document.addEventListener('mouseenter', () => {
            isVisible = true;
            crosshair.classList.add('active');
        });
    })();
    </script>

    <!-- Pixel Confetti on Click Script -->
    <script>
    (function() {
        // Only on desktop (> 1024px) for performance
        if (window.innerWidth <= 1024) return;

        const PIXEL_COUNT = 12;
        const PIXEL_SIZE = 4;
        const SPREAD = 80;
        const DURATION = 400;
        const COOLDOWN = 200;

        let lastClickTime = 0;

        document.addEventListener('click', (e) => {
            const now = Date.now();
            if (now - lastClickTime < COOLDOWN) return;
            lastClickTime = now;
            createPixelBurst(e.clientX, e.clientY);
        });

        function createPixelBurst(x, y) {
            const container = document.createElement('div');
            container.className = 'pixel-container';
            container.style.left = x + 'px';
            container.style.top = y + 'px';
            document.body.appendChild(container);

            const pixels = [];

            for (let i = 0; i < PIXEL_COUNT; i++) {
                const pixel = document.createElement('div');
                pixel.className = 'pixel';

                const angle = (Math.PI * 2 * i / PIXEL_COUNT) + (Math.random() - 0.5) * 0.5;
                const distance = SPREAD * (0.5 + Math.random() * 0.5);

                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;

                const size = PIXEL_SIZE * (0.5 + Math.random() * 1);
                pixel.style.width = size + 'px';
                pixel.style.height = size + 'px';

                const hue = 15 + Math.random() * 10;
                const lightness = 50 + Math.random() * 15;
                pixel.style.background = `hsl(${hue}, 85%, ${lightness}%)`;

                container.appendChild(pixel);
                pixels.push({ el: pixel, tx, ty });
            }

            const startTime = performance.now();

            function animatePixels(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / DURATION, 1);

                const ease = 1 - Math.pow(1 - progress, 3);
                const opacity = 1 - progress;

                pixels.forEach(({ el, tx, ty }) => {
                    const currentX = tx * ease;
                    const currentY = ty * ease - (progress * 20);
                    el.style.transform = `translate(${currentX}px, ${currentY}px)`;
                    el.style.opacity = opacity;
                });

                if (progress < 1) {
                    requestAnimationFrame(animatePixels);
                } else {
                    container.remove();
                }
            }

            requestAnimationFrame(animatePixels);
        }
    })();
    </script>

    <!-- Static Mosaic Background Grid (theme toggle only) -->
    <script>
    (function() {
        const bgGrid = document.getElementById('mosaic-background');
        if (!bgGrid) return;

        // Grid configuration
        const cols = 15;
        const cellSize = window.innerWidth / cols;

        function calculateTotalRows() {
            const pageHeight = Math.max(
                document.body.scrollHeight,
                document.documentElement.scrollHeight
            );
            return Math.ceil(pageHeight / cellSize);
        }

        let totalRows = calculateTotalRows();
        let bgCells = [];

        // Set CSS variables
        document.documentElement.style.setProperty('--mosaic-cols', cols);

        function generateBgGrid() {
            const fragment = document.createDocumentFragment();
            bgCells = [];
            const totalCells = cols * totalRows;

            for (let i = 0; i < totalCells; i++) {
                const cell = document.createElement('div');
                cell.className = 'bg-cell';
                fragment.appendChild(cell);
                bgCells.push(cell);
            }

            bgGrid.innerHTML = '';
            bgGrid.appendChild(fragment);
            bgGrid.style.height = (totalRows * cellSize) + 'px';
        }

        generateBgGrid();

        // Handle resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                if (window.innerWidth < 768) {
                    bgGrid.innerHTML = '';
                    bgCells = [];
                } else {
                    totalRows = calculateTotalRows();
                    generateBgGrid();
                }
            }, 200);
        });

        // Recalculate on content changes
        let resizeObserverInitialized = false;
        const resizeObserver = new ResizeObserver(() => {
            if (!resizeObserverInitialized) {
                resizeObserverInitialized = true;
                return;
            }
            const newTotalRows = calculateTotalRows();
            if (newTotalRows !== totalRows) {
                totalRows = newTotalRows;
                generateBgGrid();
            }
        });
        resizeObserver.observe(document.body);

        // Theme toggle with wave animation from top-right
        let isLightTheme = false;
        const themeToggle = document.getElementById('theme-toggle');
        const moonIcon = document.getElementById('theme-icon-moon');
        const sunIcon = document.getElementById('theme-icon-sun');
        const WAVE_CELL_DELAY = 10;

        function toggleThemeWithWave() {
            isLightTheme = !isLightTheme;

            // Toggle icons
            moonIcon.classList.toggle('hidden');
            sunIcon.classList.toggle('hidden');

            // Get overlay cells too
            const overlayCells = document.querySelectorAll('#mosaic-overlay .overlay-cell');

            const totalCells = cols * totalRows;

            for (let cellIdx = 0; cellIdx < totalCells; cellIdx++) {
                const row = Math.floor(cellIdx / cols);
                const col = cellIdx % cols;

                // Diagonal distance from top-right corner
                const diagonalDist = row + (cols - 1 - col);
                const delay = diagonalDist * WAVE_CELL_DELAY;

                setTimeout(() => {
                    // Toggle background cell
                    const bgCell = bgCells[cellIdx];
                    if (bgCell) {
                        bgCell.style.setProperty('--stagger-delay', '0ms');
                        if (isLightTheme) {
                            bgCell.classList.add('light-theme');
                        } else {
                            bgCell.classList.remove('light-theme');
                        }
                    }

                    // Toggle overlay cell (opposite of background)
                    const overlayCell = overlayCells[cellIdx];
                    if (overlayCell) {
                        overlayCell.style.setProperty('--stagger-delay', '0ms');
                        if (isLightTheme) {
                            overlayCell.classList.add('dark-theme');
                        } else {
                            overlayCell.classList.remove('dark-theme');
                        }
                    }
                }, delay);
            }
        }

        if (themeToggle) {
            themeToggle.addEventListener('click', toggleThemeWithWave);
        }
    })();
    </script>

    <!-- Mosaic Overlay Grid (scroll reveal effect) -->
    <script>
    (function() {
        const overlayGrid = document.getElementById('mosaic-overlay');
        if (!overlayGrid) return;

        // Grid configuration
        const cols = 15;
        const cellSize = window.innerWidth / cols;

        function calculateTotalRows() {
            const pageHeight = Math.max(
                document.body.scrollHeight,
                document.documentElement.scrollHeight
            );
            return Math.ceil(pageHeight / cellSize);
        }

        let totalRows = calculateTotalRows();
        let cells = [];
        let cellStates = new Uint8Array(cols * totalRows);

        const rowPatternCache = new Map();
        const rowActiveCells = new Map();
        let viewportRows = new Set();

        function getRowFromY(y) {
            return Math.floor(y / cellSize);
        }

        function generateOverlayGrid() {
            const fragment = document.createDocumentFragment();
            cells = [];
            const totalCells = cols * totalRows;
            cellStates = new Uint8Array(totalCells);
            rowActiveCells.clear();
            viewportRows.clear();
            rowPatternCache.clear();

            for (let i = 0; i < totalCells; i++) {
                const cell = document.createElement('div');
                cell.className = 'overlay-cell';
                fragment.appendChild(cell);
                cells.push(cell);
            }

            overlayGrid.innerHTML = '';
            overlayGrid.appendChild(fragment);
            overlayGrid.style.height = (totalRows * cellSize) + 'px';
        }

        generateOverlayGrid();

        function getRowPattern(rowIndex, fillPercent) {
            const startIdx = rowIndex * cols;
            const numToReveal = Math.round(cols * fillPercent);

            let baseOrder;
            if (rowPatternCache.has(rowIndex)) {
                baseOrder = rowPatternCache.get(rowIndex);
            } else {
                const available = Array.from({ length: cols }, (_, i) => i);
                const blocked = new Set();
                const scattered = [];
                const remaining = [];

                for (let i = available.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [available[i], available[j]] = [available[j], available[i]];
                }

                for (const col of available) {
                    if (blocked.has(col)) {
                        remaining.push(col);
                        continue;
                    }
                    scattered.push(col);
                    if (col > 0) blocked.add(col - 1);
                    if (col < cols - 1) blocked.add(col + 1);
                }

                baseOrder = [...scattered, ...remaining];
                rowPatternCache.set(rowIndex, baseOrder);
            }

            return baseOrder.slice(0, numToReveal).map(col => startIdx + col);
        }

        const EDGE_ROWS = 5;
        const CELL_STAGGER_MS = 30;
        const ROW_STAGGER_MS = 70;

        let pendingUpdates = [];
        let updateScheduled = false;
        const pendingAdds = new Set();

        function scheduleUpdate(cellIdx, addClass, staggerDelay = 0) {
            if (addClass) {
                pendingAdds.add(cellIdx);
            } else {
                pendingAdds.delete(cellIdx);
            }
            pendingUpdates.push({ cellIdx, addClass, staggerDelay });
            if (!updateScheduled) {
                updateScheduled = true;
                requestAnimationFrame(flushUpdates);
            }
        }

        function flushUpdates() {
            const updates = pendingUpdates;
            pendingUpdates = [];
            updateScheduled = false;

            for (const { cellIdx, addClass, staggerDelay } of updates) {
                const cell = cells[cellIdx];
                if (!cell) continue;

                if (addClass && !pendingAdds.has(cellIdx)) {
                    continue;
                }

                cell.style.setProperty('--stagger-delay', `${staggerDelay}ms`);
                if (addClass) {
                    cell.classList.add('in-view');
                    pendingAdds.delete(cellIdx);
                } else {
                    cell.classList.remove('in-view');
                }
            }
        }

        function markRowInView(rowIndex, rowDelay, fillPercent) {
            if (rowIndex < 0 || rowIndex >= totalRows) return;

            const existingCells = rowActiveCells.get(rowIndex);
            const pattern = getRowPattern(rowIndex, fillPercent);

            if (existingCells) {
                const newCells = pattern.filter(idx => !existingCells.has(idx));
                if (newCells.length === 0) return;

                for (let i = 0; i < newCells.length; i++) {
                    const cellIdx = newCells[i];
                    if (cellStates[cellIdx] === 0) {
                        cellStates[cellIdx] = 1;
                        existingCells.add(cellIdx);
                        const cellDelay = rowDelay + (i * CELL_STAGGER_MS);
                        scheduleUpdate(cellIdx, true, cellDelay);
                    }
                }
            } else {
                viewportRows.add(rowIndex);
                const activeCells = new Set();

                for (let i = 0; i < pattern.length; i++) {
                    const cellIdx = pattern[i];
                    if (cellStates[cellIdx] === 0) {
                        cellStates[cellIdx] = 1;
                        activeCells.add(cellIdx);
                        const cellDelay = rowDelay + (i * CELL_STAGGER_MS);
                        scheduleUpdate(cellIdx, true, cellDelay);
                    }
                }

                rowActiveCells.set(rowIndex, activeCells);
            }
        }

        function markRowOutOfView(rowIndex, rowDelay) {
            if (rowIndex < 0 || rowIndex >= totalRows) return;
            if (!viewportRows.has(rowIndex)) return;

            viewportRows.delete(rowIndex);

            const activeCells = rowActiveCells.get(rowIndex);
            rowActiveCells.delete(rowIndex);

            if (activeCells && activeCells.size > 0) {
                for (const cellIdx of activeCells) {
                    cellStates[cellIdx] = 0;
                    scheduleUpdate(cellIdx, false, 0);
                }
            } else {
                const startIdx = rowIndex * cols;
                for (let i = 0; i < cols; i++) {
                    const cellIdx = startIdx + i;
                    if (cellStates[cellIdx] === 1) {
                        cellStates[cellIdx] = 0;
                        scheduleUpdate(cellIdx, false, 0);
                    }
                }
            }
        }

        let lastScrollY = window.scrollY;
        let lastTopRow = -1;
        let lastBottomRow = -1;
        let ticking = false;
        let lastProcessTime = 0;
        const throttleMs = 16;

        function updateOnScroll() {
            const now = performance.now();
            if (now - lastProcessTime < throttleMs) {
                ticking = false;
                return;
            }
            lastProcessTime = now;

            const scrollY = window.scrollY;
            const viewportHeight = window.innerHeight;

            const currentTopRow = getRowFromY(scrollY);
            const currentBottomRow = getRowFromY(scrollY + viewportHeight);

            const scrollDelta = scrollY - lastScrollY;
            if (Math.abs(scrollDelta) < 1) {
                ticking = false;
                return;
            }

            const direction = scrollDelta > 0 ? 1 : -1;

            if (direction > 0) {
                for (let i = 0; i < EDGE_ROWS; i++) {
                    const row = currentBottomRow - i;
                    if (row >= 0 && row < totalRows && !viewportRows.has(row)) {
                        const fillPercent = Math.max(0.4, 1.0 - (i * 0.12));
                        markRowInView(row, i * ROW_STAGGER_MS, fillPercent);
                    }
                }
            } else {
                for (let i = 0; i < EDGE_ROWS; i++) {
                    const row = currentTopRow + i;
                    if (row >= 0 && row < totalRows && !viewportRows.has(row)) {
                        const fillPercent = Math.max(0.4, 1.0 - (i * 0.12));
                        markRowInView(row, i * ROW_STAGGER_MS, fillPercent);
                    }
                }
            }

            const rowsToRemove = [];
            for (const row of viewportRows) {
                if (row < currentTopRow - 2 || row > currentBottomRow + 2) {
                    rowsToRemove.push(row);
                }
            }
            rowsToRemove.sort((a, b) => {
                const distA = a < currentTopRow ? currentTopRow - a : a - currentBottomRow;
                const distB = b < currentTopRow ? currentTopRow - b : b - currentBottomRow;
                return distB - distA;
            });
            for (let i = 0; i < rowsToRemove.length; i++) {
                markRowOutOfView(rowsToRemove[i], i * ROW_STAGGER_MS);
            }

            lastScrollY = scrollY;
            lastTopRow = currentTopRow;
            lastBottomRow = currentBottomRow;
            ticking = false;
        }

        function onScroll() {
            if (!ticking) {
                requestAnimationFrame(updateOnScroll);
                ticking = true;
            }
            scheduleScrollCleanup();
        }

        let scrollCleanupTimeout;
        function scheduleScrollCleanup() {
            clearTimeout(scrollCleanupTimeout);
            scrollCleanupTimeout = setTimeout(cleanupCellStates, 150);
        }

        function cleanupCellStates() {
            const scrollY = window.scrollY;
            const viewportHeight = window.innerHeight;
            const topRow = Math.max(0, getRowFromY(scrollY) - 2);
            const bottomRow = Math.min(totalRows - 1, getRowFromY(scrollY + viewportHeight) + 2);
            const viewportCenter = (topRow + bottomRow) / 2;

            const shouldBeInView = new Set();
            for (let row = topRow; row <= bottomRow; row++) {
                shouldBeInView.add(row);
            }

            const cellsToTurnDark = [];
            const cellsToTurnLight = [];

            for (let row = 0; row < totalRows; row++) {
                const startIdx = row * cols;
                const shouldBeDark = shouldBeInView.has(row);

                for (let i = 0; i < cols; i++) {
                    const cellIdx = startIdx + i;
                    const cell = cells[cellIdx];
                    if (!cell) continue;

                    const isDark = cell.classList.contains('in-view');

                    if (shouldBeDark && !isDark) {
                        cellsToTurnDark.push({ cellIdx, row, col: i });
                    } else if (!shouldBeDark && isDark) {
                        cellsToTurnLight.push({ cellIdx, row, col: i });
                    }
                }

                if (shouldBeDark) {
                    if (!viewportRows.has(row)) {
                        viewportRows.add(row);
                        const activeCells = new Set();
                        for (let i = 0; i < cols; i++) {
                            activeCells.add(startIdx + i);
                        }
                        rowActiveCells.set(row, activeCells);
                    }
                } else {
                    viewportRows.delete(row);
                    rowActiveCells.delete(row);
                }
            }

            const CLEANUP_CELL_DELAY = 15;
            const CLEANUP_ROW_DELAY = 25;

            cellsToTurnDark.sort((a, b) => {
                const distA = Math.abs(a.row - viewportCenter);
                const distB = Math.abs(b.row - viewportCenter);
                return distA - distB || a.col - b.col;
            });

            cellsToTurnLight.sort((a, b) => {
                const distA = a.row < topRow ? topRow - a.row : a.row - bottomRow;
                const distB = b.row < topRow ? topRow - b.row : b.row - bottomRow;
                return distA - distB || a.col - b.col;
            });

            cellsToTurnDark.forEach(({ cellIdx, row }, index) => {
                const rowGroup = Math.abs(row - Math.round(viewportCenter));
                const delay = rowGroup * CLEANUP_ROW_DELAY + (index % cols) * CLEANUP_CELL_DELAY;
                const cell = cells[cellIdx];
                cell.style.setProperty('--stagger-delay', `${delay}ms`);
                cell.classList.add('in-view');
                cellStates[cellIdx] = 1;
            });

            cellsToTurnLight.forEach(({ cellIdx }, index) => {
                const delay = index * CLEANUP_CELL_DELAY;
                const cell = cells[cellIdx];
                cell.style.setProperty('--stagger-delay', `${delay}ms`);
                cell.classList.remove('in-view');
                cellStates[cellIdx] = 0;
            });

            pendingAdds.clear();
        }

        window.addEventListener('scroll', onScroll, { passive: true });

        function initViewport() {
            const scrollY = window.scrollY;
            const viewportHeight = window.innerHeight;
            const topRow = Math.max(0, getRowFromY(scrollY) - 2);
            const bottomRow = Math.min(totalRows - 1, getRowFromY(scrollY + viewportHeight) + 2);

            for (let row = topRow; row <= bottomRow; row++) {
                if (row >= 0 && row < totalRows) {
                    viewportRows.add(row);
                    const startIdx = row * cols;
                    const activeCells = new Set();

                    for (let i = 0; i < cols; i++) {
                        const cellIdx = startIdx + i;
                        cellStates[cellIdx] = 1;
                        activeCells.add(cellIdx);
                        cells[cellIdx].classList.add('in-view');
                    }

                    rowActiveCells.set(row, activeCells);
                }
            }

            lastScrollY = scrollY;
            lastTopRow = getRowFromY(scrollY);
            lastBottomRow = getRowFromY(scrollY + viewportHeight);
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initViewport);
        } else {
            initViewport();
        }

        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                if (window.innerWidth < 768) {
                    overlayGrid.innerHTML = '';
                    cells = [];
                    cellStates = [];
                    rowActiveCells.clear();
                    viewportRows.clear();
                    rowPatternCache.clear();
                } else {
                    totalRows = calculateTotalRows();
                    generateOverlayGrid();
                    initViewport();
                    lastScrollY = window.scrollY;
                    lastBottomRow = getRowFromY(window.scrollY + window.innerHeight);
                    lastTopRow = getRowFromY(window.scrollY);
                }
            }, 200);
        });

        let resizeObserverInitialized = false;
        const resizeObserver = new ResizeObserver(() => {
            if (!resizeObserverInitialized) {
                resizeObserverInitialized = true;
                return;
            }
            const newTotalRows = calculateTotalRows();
            if (newTotalRows !== totalRows) {
                totalRows = newTotalRows;
                generateOverlayGrid();
                initViewport();
            }
        });
        resizeObserver.observe(document.body);
    })();
    </script>
</body></html>